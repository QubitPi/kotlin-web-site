<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-07-14T15:29:30.337157609"><link rel="canonical" href="https://kotlinlang.org/docs/compatibility-guide-19.html" data-react-helmet="true"><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
<title>Compatibility guide for Kotlin 1.9 | Kotlin Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"basic-terms","level":0,"title":"Basic terms","anchor":"#basic-terms"},{"id":"language","level":0,"title":"Language","anchor":"#language"},{"id":"remove-language-version-1-3","level":1,"title":"Remove language version 1.3","anchor":"#remove-language-version-1-3"},{"id":"prohibit-super-constructor-call-when-the-super-interface-type-is-a-function-literal","level":1,"title":"Prohibit super constructor call when the super interface type is a function literal","anchor":"#prohibit-super-constructor-call-when-the-super-interface-type-is-a-function-literal"},{"id":"prohibit-cycles-in-annotation-parameter-types","level":1,"title":"Prohibit cycles in annotation parameter types","anchor":"#prohibit-cycles-in-annotation-parameter-types"},{"id":"prohibit-use-of-extensionfunctiontype-annotation-on-function-types-with-no-parameters","level":1,"title":"Prohibit use of @ExtensionFunctionType annotation on function types with no parameters","anchor":"#prohibit-use-of-extensionfunctiontype-annotation-on-function-types-with-no-parameters"},{"id":"prohibit-java-field-type-mismatch-on-assignment","level":1,"title":"Prohibit Java field type mismatch on assignment","anchor":"#prohibit-java-field-type-mismatch-on-assignment"},{"id":"no-source-code-excerpts-in-platform-type-nullability-assertion-exceptions","level":1,"title":"No source code excerpts in platform-type nullability assertion exceptions","anchor":"#no-source-code-excerpts-in-platform-type-nullability-assertion-exceptions"},{"id":"prohibit-the-delegation-of-super-calls-to-an-abstract-superclass-member","level":1,"title":"Prohibit the delegation of super calls to an abstract superclass member","anchor":"#prohibit-the-delegation-of-super-calls-to-an-abstract-superclass-member"},{"id":"deprecate-confusing-grammar-in-when-with-subject","level":1,"title":"Deprecate confusing grammar in when-with-subject","anchor":"#deprecate-confusing-grammar-in-when-with-subject"},{"id":"prevent-implicit-coercions-between-different-numeric-types","level":1,"title":"Prevent implicit coercions between different numeric types","anchor":"#prevent-implicit-coercions-between-different-numeric-types"},{"id":"prohibit-upper-bound-violation-in-a-generic-type-alias-usage-a-type-parameter-used-in-a-generic-type-argument-of-a-type-argument-of-the-aliased-type","level":1,"title":"Prohibit upper bound violation in a generic type alias usage (a type parameter used in a generic type argument of a type argument of the aliased type)","anchor":"#prohibit-upper-bound-violation-in-a-generic-type-alias-usage-a-type-parameter-used-in-a-generic-type-argument-of-a-type-argument-of-the-aliased-type"},{"id":"keep-nullability-when-approximating-local-types-in-public-signatures","level":1,"title":"Keep nullability when approximating local types in public signatures","anchor":"#keep-nullability-when-approximating-local-types-in-public-signatures"},{"id":"do-not-propagate-deprecation-through-overrides","level":1,"title":"Do not propagate deprecation through overrides","anchor":"#do-not-propagate-deprecation-through-overrides"},{"id":"prohibit-using-collection-literals-in-annotation-classes-anywhere-except-their-parameters-declaration","level":1,"title":"Prohibit using collection literals in annotation classes anywhere except their parameters declaration","anchor":"#prohibit-using-collection-literals-in-annotation-classes-anywhere-except-their-parameters-declaration"},{"id":"prohibit-forward-referencing-of-parameters-in-default-value-expressions","level":1,"title":"Prohibit forward referencing of parameters in default value expressions","anchor":"#prohibit-forward-referencing-of-parameters-in-default-value-expressions"},{"id":"prohibit-extension-calls-on-inline-functional-parameters","level":1,"title":"Prohibit extension calls on inline functional parameters","anchor":"#prohibit-extension-calls-on-inline-functional-parameters"},{"id":"prohibit-calls-to-infix-functions-named-suspend-with-an-anonymous-function-argument","level":1,"title":"Prohibit calls to infix functions named suspend with an anonymous function argument","anchor":"#prohibit-calls-to-infix-functions-named-suspend-with-an-anonymous-function-argument"},{"id":"prohibit-using-captured-type-parameters-in-inner-classes-against-their-variance","level":1,"title":"Prohibit using captured type parameters in inner classes against their variance","anchor":"#prohibit-using-captured-type-parameters-in-inner-classes-against-their-variance"},{"id":"prohibit-recursive-call-of-a-function-without-explicit-return-type-in-compound-assignment-operators","level":1,"title":"Prohibit recursive call of a function without explicit return type in compound assignment operators","anchor":"#prohibit-recursive-call-of-a-function-without-explicit-return-type-in-compound-assignment-operators"},{"id":"prohibit-unsound-calls-with-expected-notnull-t-and-given-kotlin-generic-parameter-with-nullable-bound","level":1,"title":"Prohibit unsound calls with expected @NotNull T and given Kotlin generic parameter with nullable bound","anchor":"#prohibit-unsound-calls-with-expected-notnull-t-and-given-kotlin-generic-parameter-with-nullable-bound"},{"id":"prohibit-access-to-members-of-a-companion-of-an-enum-class-from-entry-initializers-of-this-enum","level":1,"title":"Prohibit access to members of a companion of an enum class from entry initializers of this enum","anchor":"#prohibit-access-to-members-of-a-companion-of-an-enum-class-from-entry-initializers-of-this-enum"},{"id":"deprecate-and-remove-enum-declaringclass-synthetic-property","level":1,"title":"Deprecate and remove Enum.declaringClass synthetic property","anchor":"#deprecate-and-remove-enum-declaringclass-synthetic-property"},{"id":"deprecate-enable-and-compatibility-modes-of-the-compiler-option-xjvm-default","level":1,"title":"Deprecate enable and compatibility modes of the compiler option -Xjvm-default","anchor":"#deprecate-enable-and-compatibility-modes-of-the-compiler-option-xjvm-default"},{"id":"prohibit-implicit-inferring-a-type-variable-into-an-upper-bound-in-the-builder-inference-context","level":1,"title":"Prohibit implicit inferring a type variable into an upper bound in the builder inference context","anchor":"#prohibit-implicit-inferring-a-type-variable-into-an-upper-bound-in-the-builder-inference-context"},{"id":"standard-library","level":0,"title":"Standard library","anchor":"#standard-library"},{"id":"warn-about-potential-overload-resolution-change-when-range-progression-starts-implementing-collection","level":1,"title":"Warn about potential overload resolution change when Range/Progression starts implementing Collection","anchor":"#warn-about-potential-overload-resolution-change-when-range-progression-starts-implementing-collection"},{"id":"migrate-declarations-from-kotlin-dom-and-kotlin-browser-packages-to-kotlinx","level":1,"title":"Migrate declarations from kotlin.dom and kotlin.browser packages to kotlinx.*","anchor":"#migrate-declarations-from-kotlin-dom-and-kotlin-browser-packages-to-kotlinx"},{"id":"deprecate-some-js-only-api","level":1,"title":"Deprecate some JS-only API","anchor":"#deprecate-some-js-only-api"},{"id":"tools","level":0,"title":"Tools","anchor":"#tools"},{"id":"remove-enableendorsedlibs-flag-from-gradle-setup","level":1,"title":"Remove enableEndorsedLibs flag from Gradle setup","anchor":"#remove-enableendorsedlibs-flag-from-gradle-setup"},{"id":"remove-gradle-conventions","level":1,"title":"Remove Gradle conventions","anchor":"#remove-gradle-conventions"},{"id":"remove-classpath-property-of-kotlincompile-task","level":1,"title":"Remove classpath property of KotlinCompile task","anchor":"#remove-classpath-property-of-kotlincompile-task"},{"id":"deprecate-kotlin-internal-single-build-metrics-file-property","level":1,"title":"Deprecate kotlin.internal.single.build.metrics.file property","anchor":"#deprecate-kotlin-internal-single-build-metrics-file-property"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="https://kotlinlang.org/assets/images/favicon.svg?v2"><link rel="icon" type="image/x-icon" sizes="32x32" href="https://kotlinlang.org/assets/images/favicon.ico?v2"><link rel="icon" type="image/png" sizes="96x96" href="https://kotlinlang.org/assets/images/apple-touch-icon.png?v2"><link rel="icon" type="image/png" sizes="300x300" href="https://kotlinlang.org/assets/images/apple-touch-icon-72x72.png?v2"><link rel="icon" type="image/png" sizes="500x500" href="https://kotlinlang.org/assets/images/apple-touch-icon-114x114.png?v2"><meta name="image" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><!-- Open Graph --><meta property="og:title" content="Compatibility guide for Kotlin 1.9 | Kotlin"><meta property="og:description" content=""><meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://kotlinlang.org/docs/compatibility-guide-19.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@kotlin"><meta name="twitter:title" content="Compatibility guide for Kotlin 1.9 | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@kotlin"><meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://kotlinlang.org/docs/compatibility-guide-19.html#webpage",
    "url": "https://kotlinlang.org/docs/compatibility-guide-19.html",
    "name": "Compatibility guide for Kotlin 1.9 | Kotlin",
    "description": "",
    "image": "https://kotlinlang.org/assets/images/open-graph/docs.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://kotlinlang.org/docs/#website",
    "url": "https://kotlinlang.org/docs/",
    "name": "Kotlin Help"
}</script><!-- End Schema.org --><style>a[href="test-page.html"] { visibility: hidden; }</style></head><body data-id="compatibility-guide-19" data-main-title="Compatibility guide for Kotlin 1.9" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Other resources///Kotlin compatibility guides" data-edit-url="https://github.com/JetBrains/kotlin-web-site/edit/master/docs/topics/compatibility-guides/compatibility-guide-19.md"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="compatibility-guide-19" id="compatibility-guide-19.md">Compatibility guide for Kotlin 1.9</h1><p id="-b1jr1k_2"><span class="emphasis" id="-b1jr1k_8"><a href="kotlin-evolution-principles.html" id="-b1jr1k_10">Keeping the Language Modern</a></span> and <span class="emphasis" id="-b1jr1k_9"><a href="kotlin-evolution-principles.html" id="-b1jr1k_11">Comfortable Updates</a></span> are among the fundamental principles in Kotlin Language Design. The former says that constructs which obstruct language evolution should be removed, and the latter says that this removal should be well-communicated beforehand to make code migration as smooth as possible.</p><p id="-b1jr1k_3">While most of the language changes were already announced through other channels, like update changelogs or compiler warnings, this document summarizes them all, providing a complete reference for migration from Kotlin 1.8 to Kotlin 1.9.</p><section class="chapter"><h2 id="basic-terms" data-toc="basic-terms">Basic terms</h2><p id="-b1jr1k_12">In this document we introduce several kinds of compatibility:</p><ul class="list _bullet" id="-b1jr1k_13"><li class="list__item" id="-b1jr1k_15"><p id="-b1jr1k_18"><span class="emphasis" id="-b1jr1k_19">source</span>: source-incompatible change stops code that used to compile fine (without errors or warnings) from compiling anymore</p></li><li class="list__item" id="-b1jr1k_16"><p id="-b1jr1k_20"><span class="emphasis" id="-b1jr1k_21">binary</span>: two binary artifacts are said to be binary-compatible if interchanging them doesn't lead to loading or linkage errors</p></li><li class="list__item" id="-b1jr1k_17"><p id="-b1jr1k_22"><span class="emphasis" id="-b1jr1k_23">behavioral</span>: a change is said to be behavioral-incompatible if the same program demonstrates different behavior before and after applying the change</p></li></ul><p id="-b1jr1k_14">Remember that those definitions are given only for pure Kotlin. Compatibility of Kotlin code from the other languages perspective (for example, from Java) is out of the scope of this document.</p></section><section class="chapter"><h2 id="language" data-toc="language">Language</h2><section class="chapter"><h3 id="remove-language-version-1-3" data-toc="remove-language-version-1-3">Remove language version 1.3</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_47"><p id="-b1jr1k_48"><span class="control" id="-b1jr1k_54">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-61111/Remove-language-version-1.3" id="-b1jr1k_55" data-external="true" rel="noopener noreferrer" target="_blank">KT-61111</a></p><p id="-b1jr1k_49"><span class="control" id="-b1jr1k_56">Component</span>: Core language</p><p id="-b1jr1k_50"><span class="control" id="-b1jr1k_57">Incompatible change type</span>: source</p><p id="-b1jr1k_51"><span class="control" id="-b1jr1k_58">Short summary</span>: Kotlin 1.9 introduces language version 1.9 and removes support for language version 1.3.</p><p id="-b1jr1k_52"><span class="control" id="-b1jr1k_59">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_53"><li class="list__item" id="-b1jr1k_60"><p id="-b1jr1k_62">1.6.0: report a warning</p></li><li class="list__item" id="-b1jr1k_61"><p id="-b1jr1k_63">1.9.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-super-constructor-call-when-the-super-interface-type-is-a-function-literal" data-toc="prohibit-super-constructor-call-when-the-super-interface-type-is-a-function-literal">Prohibit super constructor call when the super interface type is a function literal</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_64"><p id="-b1jr1k_65"><span class="control" id="-b1jr1k_71">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-46344" id="-b1jr1k_72" data-external="true" rel="noopener noreferrer" target="_blank">KT-46344</a></p><p id="-b1jr1k_66"><span class="control" id="-b1jr1k_73">Component</span>: Core language</p><p id="-b1jr1k_67"><span class="control" id="-b1jr1k_74">Incompatible change type</span>: source</p><p id="-b1jr1k_68"><span class="control" id="-b1jr1k_75">Short summary</span>: If an interface inherits from a function literal type, Kotlin 1.9 prohibits super constructor calls because no such constructor exists.</p><p id="-b1jr1k_69"><span class="control" id="-b1jr1k_76">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_70"><li class="list__item" id="-b1jr1k_77"><p id="-b1jr1k_79">1.7.0: report a warning (or an error in progressive mode)</p></li><li class="list__item" id="-b1jr1k_78"><p id="-b1jr1k_80">1.9.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-cycles-in-annotation-parameter-types" data-toc="prohibit-cycles-in-annotation-parameter-types">Prohibit cycles in annotation parameter types</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_81"><p id="-b1jr1k_82"><span class="control" id="-b1jr1k_88">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-47932" id="-b1jr1k_89" data-external="true" rel="noopener noreferrer" target="_blank">KT-47932</a></p><p id="-b1jr1k_83"><span class="control" id="-b1jr1k_90">Component</span>: Core language</p><p id="-b1jr1k_84"><span class="control" id="-b1jr1k_91">Incompatible change type</span>: source</p><p id="-b1jr1k_85"><span class="control" id="-b1jr1k_92">Short summary</span>: Kotlin 1.9 prohibits the type of an annotation being used as one of its parameter types, either directly or indirectly. This prevents cycles from being created. However, you are allowed to have parameter types that are an <code class="code" id="-b1jr1k_93">Array</code> or a <code class="code" id="-b1jr1k_94">vararg</code> of the annotation type.</p><p id="-b1jr1k_86"><span class="control" id="-b1jr1k_95">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_87"><li class="list__item" id="-b1jr1k_96"><p id="-b1jr1k_98">1.7.0: report a warning (or an error in progressive mode) on cycles in types of annotation parameters</p></li><li class="list__item" id="-b1jr1k_97"><p id="-b1jr1k_99">1.9.0: raise the warning to an error, <code class="code" id="-b1jr1k_100">-XXLanguage:-ProhibitCyclesInAnnotations</code> can be used to temporarily revert to pre-1.9 behavior</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-use-of-extensionfunctiontype-annotation-on-function-types-with-no-parameters" data-toc="prohibit-use-of-extensionfunctiontype-annotation-on-function-types-with-no-parameters">Prohibit use of @ExtensionFunctionType annotation on function types with no parameters</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_101"><p id="-b1jr1k_102"><span class="control" id="-b1jr1k_108">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-43527" id="-b1jr1k_109" data-external="true" rel="noopener noreferrer" target="_blank">KT-43527</a></p><p id="-b1jr1k_103"><span class="control" id="-b1jr1k_110">Component</span>: Core language</p><p id="-b1jr1k_104"><span class="control" id="-b1jr1k_111">Incompatible change type</span>: source</p><p id="-b1jr1k_105"><span class="control" id="-b1jr1k_112">Short summary</span>: Kotlin 1.9 prohibits using the <code class="code" id="-b1jr1k_113">@ExtensionFunctionType</code> annotation on function types with no parameters, or on types that aren't function types.</p><p id="-b1jr1k_106"><span class="control" id="-b1jr1k_114">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_107"><li class="list__item" id="-b1jr1k_115"><p id="-b1jr1k_117">1.7.0: report a warning for annotations on types that aren't function types, report an error for annotations on types that <span class="control" id="-b1jr1k_118">are</span> function types</p></li><li class="list__item" id="-b1jr1k_116"><p id="-b1jr1k_119">1.9.0: raise the warning for function types to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-java-field-type-mismatch-on-assignment" data-toc="prohibit-java-field-type-mismatch-on-assignment">Prohibit Java field type mismatch on assignment</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_120"><p id="-b1jr1k_121"><span class="control" id="-b1jr1k_127">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-48994" id="-b1jr1k_128" data-external="true" rel="noopener noreferrer" target="_blank">KT-48994</a></p><p id="-b1jr1k_122"><span class="control" id="-b1jr1k_129">Component</span>: Kotlin/JVM</p><p id="-b1jr1k_123"><span class="control" id="-b1jr1k_130">Incompatible change type</span>: source</p><p id="-b1jr1k_124"><span class="control" id="-b1jr1k_131">Short summary</span>: Kotlin 1.9 reports a compiler error if it detects that the type of a value assigned to a Java field doesn't match the Java field's projected type.</p><p id="-b1jr1k_125"><span class="control" id="-b1jr1k_132">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_126"><li class="list__item" id="-b1jr1k_133"><p id="-b1jr1k_135">1.6.0: report a warning (or an error in the progressive mode) when a projected Java field type doesn't match the assigned value type</p></li><li class="list__item" id="-b1jr1k_134"><p id="-b1jr1k_136">1.9.0: raise the warning to an error, <code class="code" id="-b1jr1k_137">-XXLanguage:-RefineTypeCheckingOnAssignmentsToJavaFields</code> can be used to temporarily revert to pre-1.9 behavior</p></li></ul></aside></section><section class="chapter"><h3 id="no-source-code-excerpts-in-platform-type-nullability-assertion-exceptions" data-toc="no-source-code-excerpts-in-platform-type-nullability-assertion-exceptions">No source code excerpts in platform-type nullability assertion exceptions</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_138"><p id="-b1jr1k_139"><span class="control" id="-b1jr1k_145">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-57570" id="-b1jr1k_146" data-external="true" rel="noopener noreferrer" target="_blank">KT-57570</a></p><p id="-b1jr1k_140"><span class="control" id="-b1jr1k_147">Component</span>: Kotlin/JVM</p><p id="-b1jr1k_141"><span class="control" id="-b1jr1k_148">Incompatible change type</span>: behavioral</p><p id="-b1jr1k_142"><span class="control" id="-b1jr1k_149">Short summary</span>: In Kotlin 1.9, exception messages for expression null checks do not include source code excerpts. Instead, the name of the method or field is displayed. If the expression is not a method or field, there is no additional information provided in the message.</p><p id="-b1jr1k_143"><span class="control" id="-b1jr1k_150">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_144"><li class="list__item" id="-b1jr1k_151"><p id="-b1jr1k_153">&lt; 1.9.0: exception messages generated by expression null checks contain source code excerpts</p></li><li class="list__item" id="-b1jr1k_152"><p id="-b1jr1k_154">1.9.0: exception messages generated by expression null checks contain method or field names only, <code class="code" id="-b1jr1k_155">-XXLanguage:-NoSourceCodeInNotNullAssertionExceptions</code> can be used to temporarily revert to pre-1.9 behavior</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-the-delegation-of-super-calls-to-an-abstract-superclass-member" data-toc="prohibit-the-delegation-of-super-calls-to-an-abstract-superclass-member">Prohibit the delegation of super calls to an abstract superclass member</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_156"><p id="-b1jr1k_157"><span class="control" id="-b1jr1k_163">Issues</span>: <a href="https://youtrack.jetbrains.com/issue/KT-45508" id="-b1jr1k_164" data-external="true" rel="noopener noreferrer" target="_blank">KT-45508</a>, <a href="https://youtrack.jetbrains.com/issue/KT-49017" id="-b1jr1k_165" data-external="true" rel="noopener noreferrer" target="_blank">KT-49017</a>, <a href="https://youtrack.jetbrains.com/issue/KT-38078" id="-b1jr1k_166" data-external="true" rel="noopener noreferrer" target="_blank">KT-38078</a></p><p id="-b1jr1k_158"><span class="control" id="-b1jr1k_167">Component</span>: Core language</p><p id="-b1jr1k_159"><span class="control" id="-b1jr1k_168">Incompatible change type</span>: source</p><p id="-b1jr1k_160"><span class="control" id="-b1jr1k_169">Short summary</span>: Kotlin will report a compile error when an explicit or implicit super call is delegated to an <span class="emphasis" id="-b1jr1k_170">abstract</span> member of the superclass, even if there's a default implementation in a super interface.</p><p id="-b1jr1k_161"><span class="control" id="-b1jr1k_171">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_162"><li class="list__item" id="-b1jr1k_172"><p id="-b1jr1k_177">1.5.20: introduce a warning when non-abstract classes that do not override all abstract members are used</p></li><li class="list__item" id="-b1jr1k_173"><p id="-b1jr1k_178">1.7.0: report a warning if a super call, in fact, accesses an abstract member from a superclass</p></li><li class="list__item" id="-b1jr1k_174"><p id="-b1jr1k_179">1.7.0: report an error in all affected cases if the <code class="code" id="-b1jr1k_180">-Xjvm-default=all</code> or <code class="code" id="-b1jr1k_181">-Xjvm-default=all-compatibility</code> compatibility modes are enabled; report an error in the progressive mode</p></li><li class="list__item" id="-b1jr1k_175"><p id="-b1jr1k_182">1.8.0: report an error in cases of declaring a concrete class with a non-overridden abstract method from the superclass, and super calls of <code class="code" id="-b1jr1k_183">Any</code> methods are overridden as abstract in the superclass</p></li><li class="list__item" id="-b1jr1k_176"><p id="-b1jr1k_184">1.9.0: report an error in all affected cases, including explicit super calls to an abstract method from the super class</p></li></ul></aside></section><section class="chapter"><h3 id="deprecate-confusing-grammar-in-when-with-subject" data-toc="deprecate-confusing-grammar-in-when-with-subject">Deprecate confusing grammar in when-with-subject</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_185"><p id="-b1jr1k_186"><span class="control" id="-b1jr1k_192">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-48385" id="-b1jr1k_193" data-external="true" rel="noopener noreferrer" target="_blank">KT-48385</a></p><p id="-b1jr1k_187"><span class="control" id="-b1jr1k_194">Component</span>: Core language</p><p id="-b1jr1k_188"><span class="control" id="-b1jr1k_195">Incompatible change type</span>: source</p><p id="-b1jr1k_189"><span class="control" id="-b1jr1k_196">Short summary</span>: Kotlin 1.6 deprecated several confusing grammar constructs in <code class="code" id="-b1jr1k_197">when</code> condition expressions.</p><p id="-b1jr1k_190"><span class="control" id="-b1jr1k_198">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_191"><li class="list__item" id="-b1jr1k_199"><p id="-b1jr1k_202">1.6.20: introduce a deprecation warning on the affected expressions</p></li><li class="list__item" id="-b1jr1k_200"><p id="-b1jr1k_203">1.8.0: raise this warning to an error, <code class="code" id="-b1jr1k_204">-XXLanguage:-ProhibitConfusingSyntaxInWhenBranches</code> can be used to temporarily revert to the pre-1.8 behavior</p></li><li class="list__item" id="-b1jr1k_201"><p id="-b1jr1k_205">&gt;= 2.1: repurpose some deprecated constructs for new language features</p></li></ul></aside></section><section class="chapter"><h3 id="prevent-implicit-coercions-between-different-numeric-types" data-toc="prevent-implicit-coercions-between-different-numeric-types">Prevent implicit coercions between different numeric types</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_206"><p id="-b1jr1k_207"><span class="control" id="-b1jr1k_213">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-48645" id="-b1jr1k_214" data-external="true" rel="noopener noreferrer" target="_blank">KT-48645</a></p><p id="-b1jr1k_208"><span class="control" id="-b1jr1k_215">Component</span>: Kotlin/JVM</p><p id="-b1jr1k_209"><span class="control" id="-b1jr1k_216">Incompatible change type</span>: behavioral</p><p id="-b1jr1k_210"><span class="control" id="-b1jr1k_217">Short summary</span>: Kotlin will avoid converting numeric values automatically to a primitive numeric type where only a downcast to that type is needed semantically.</p><p id="-b1jr1k_211"><span class="control" id="-b1jr1k_218">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_212"><li class="list__item" id="-b1jr1k_219"><p id="-b1jr1k_222">&lt; 1.5.30: the old behavior in all affected cases</p></li><li class="list__item" id="-b1jr1k_220"><p id="-b1jr1k_223">1.5.30: fix the downcast behavior in generated property delegate accessors, <code class="code" id="-b1jr1k_224">-Xuse-old-backend</code> can be used to temporarily revert to the pre-1.5.30 fix behavior</p></li><li class="list__item" id="-b1jr1k_221"><p id="-b1jr1k_225">&gt;= 2.0: fix the downcast behavior in other affected cases</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-upper-bound-violation-in-a-generic-type-alias-usage-a-type-parameter-used-in-a-generic-type-argument-of-a-type-argument-of-the-aliased-type" data-toc="prohibit-upper-bound-violation-in-a-generic-type-alias-usage-a-type-parameter-used-in-a-generic-type-argument-of-a-type-argument-of-the-aliased-type">Prohibit upper bound violation in a generic type alias usage (a type parameter used in a generic type argument of a type argument of the aliased type)</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_226"><p id="-b1jr1k_227"><span class="control" id="-b1jr1k_233">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-54066" id="-b1jr1k_234" data-external="true" rel="noopener noreferrer" target="_blank">KT-54066</a></p><p id="-b1jr1k_228"><span class="control" id="-b1jr1k_235">Component</span>: Core language</p><p id="-b1jr1k_229"><span class="control" id="-b1jr1k_236">Incompatible change type</span>: source</p><p id="-b1jr1k_230"><span class="control" id="-b1jr1k_237">Short summary</span>: Kotlin will prohibit using a type alias with type arguments that violate the upper bound restrictions of the corresponding type parameters of the aliased type in case when the typealias type parameter is used as a generic type argument of a type argument of the aliased type, for example, <code class="code" id="-b1jr1k_238">typealias Alias&lt;T&gt; = Base&lt;List&lt;T&gt;&gt;</code>.</p><p id="-b1jr1k_231"><span class="control" id="-b1jr1k_239">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_232"><li class="list__item" id="-b1jr1k_240"><p id="-b1jr1k_242">1.8.0: report a warning when a generic typealias usage has type arguments violating upper bound constraints of the corresponding type parameters of the aliased type</p></li><li class="list__item" id="-b1jr1k_241"><p id="-b1jr1k_243">2.0.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="keep-nullability-when-approximating-local-types-in-public-signatures" data-toc="keep-nullability-when-approximating-local-types-in-public-signatures">Keep nullability when approximating local types in public signatures</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_244"><p id="-b1jr1k_245"><span class="control" id="-b1jr1k_251">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-53982" id="-b1jr1k_252" data-external="true" rel="noopener noreferrer" target="_blank">KT-53982</a></p><p id="-b1jr1k_246"><span class="control" id="-b1jr1k_253">Component</span>: Core language</p><p id="-b1jr1k_247"><span class="control" id="-b1jr1k_254">Incompatible change type</span>: source, binary</p><p id="-b1jr1k_248"><span class="control" id="-b1jr1k_255">Short summary</span>: when a local or anonymous type is returned from an expression-body function without an explicitly specified return type, Kotlin compiler infers (or approximates) the return type using the known supertype of that type. During this, the compiler can infer a non-nullable type where the null value could in fact be returned.</p><p id="-b1jr1k_249"><span class="control" id="-b1jr1k_256">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_250"><li class="list__item" id="-b1jr1k_257"><p id="-b1jr1k_260">1.8.0: approximate flexible types by flexible supertypes</p></li><li class="list__item" id="-b1jr1k_258"><p id="-b1jr1k_261">1.8.0: report a warning when a declaration is inferred to have a non-nullable type that should be nullable, prompting users to specify the type explicitly</p></li><li class="list__item" id="-b1jr1k_259"><p id="-b1jr1k_262">2.0.0: approximate nullable types by nullable supertypes, <code class="code" id="-b1jr1k_263">-XXLanguage:-KeepNullabilityWhenApproximatingLocalType</code> can be used to temporarily revert to the pre-2.0 behavior</p></li></ul></aside></section><section class="chapter"><h3 id="do-not-propagate-deprecation-through-overrides" data-toc="do-not-propagate-deprecation-through-overrides">Do not propagate deprecation through overrides</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_264"><p id="-b1jr1k_265"><span class="control" id="-b1jr1k_271">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-47902" id="-b1jr1k_272" data-external="true" rel="noopener noreferrer" target="_blank">KT-47902</a></p><p id="-b1jr1k_266"><span class="control" id="-b1jr1k_273">Component</span>: Core language</p><p id="-b1jr1k_267"><span class="control" id="-b1jr1k_274">Incompatible change type</span>: source</p><p id="-b1jr1k_268"><span class="control" id="-b1jr1k_275">Short summary</span>: Kotlin 1.9 will no longer propagate deprecation from a deprecated member in the superclass to its overriding member in the subclass, thus providing an explicit mechanism for deprecating a member of the superclass while leaving it non-deprecated in the subclass.</p><p id="-b1jr1k_269"><span class="control" id="-b1jr1k_276">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_270"><li class="list__item" id="-b1jr1k_277"><p id="-b1jr1k_279">1.6.20: reporting a warning with the message of the future behavior change and a prompt to either suppress this warning or explicitly write a <code class="code" id="-b1jr1k_280">@Deprecated</code> annotation on an override of a deprecated member</p></li><li class="list__item" id="-b1jr1k_278"><p id="-b1jr1k_281">1.9.0: stop propagating deprecation status to the overridden members. This change also takes effect immediately in the progressive mode</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-using-collection-literals-in-annotation-classes-anywhere-except-their-parameters-declaration" data-toc="prohibit-using-collection-literals-in-annotation-classes-anywhere-except-their-parameters-declaration">Prohibit using collection literals in annotation classes anywhere except their parameters declaration</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_282"><p id="-b1jr1k_283"><span class="control" id="-b1jr1k_289">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-39041" id="-b1jr1k_290" data-external="true" rel="noopener noreferrer" target="_blank">KT-39041</a></p><p id="-b1jr1k_284"><span class="control" id="-b1jr1k_291">Component</span>: Core language</p><p id="-b1jr1k_285"><span class="control" id="-b1jr1k_292">Incompatible change type</span>: source</p><p id="-b1jr1k_286"><span class="control" id="-b1jr1k_293">Short summary</span>: Kotlin allows using collection literals in a restricted way - for passing arrays to parameters of annotation classes or specifying default values for these parameters. However besides that, Kotlin allowed using collections literals anywhere else inside an annotation class, for example, in its nested object. Kotlin 1.9 will prohibit using collection literals in annotation classes anywhere except their parameters' default values.</p><p id="-b1jr1k_287"><span class="control" id="-b1jr1k_294">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_288"><li class="list__item" id="-b1jr1k_295"><p id="-b1jr1k_297">1.7.0: report a warning (or an error in the progressive mode) on array literals in nested objects in annotation classes</p></li><li class="list__item" id="-b1jr1k_296"><p id="-b1jr1k_298">1.9.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-forward-referencing-of-parameters-in-default-value-expressions" data-toc="prohibit-forward-referencing-of-parameters-in-default-value-expressions">Prohibit forward referencing of parameters in default value expressions</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_299"><p id="-b1jr1k_300"><span class="control" id="-b1jr1k_306">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-25694" id="-b1jr1k_307" data-external="true" rel="noopener noreferrer" target="_blank">KT-25694</a></p><p id="-b1jr1k_301"><span class="control" id="-b1jr1k_308">Component</span>: Core language</p><p id="-b1jr1k_302"><span class="control" id="-b1jr1k_309">Incompatible change type</span>: source</p><p id="-b1jr1k_303"><span class="control" id="-b1jr1k_310">Short summary</span>: Kotlin 1.9 will prohibit forward referencing of parameters in default value expressions of other parameters. This ensures that by the time the parameter is accessed in a default value expression, it would already have a value either passed to the function or initialized by its own default value expression.</p><p id="-b1jr1k_304"><span class="control" id="-b1jr1k_311">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_305"><li class="list__item" id="-b1jr1k_312"><p id="-b1jr1k_314">1.7.0: report a warning (or an error in the progressive mode) when a parameter with default value is references in default value of another parameter that comes before it</p></li><li class="list__item" id="-b1jr1k_313"><p id="-b1jr1k_315">1.9.0: raise the warning to an error, <code class="code" id="-b1jr1k_316">-XXLanguage:-ProhibitIllegalValueParameterUsageInDefaultArguments</code> can be used to temporarily revert to the pre-1.9 behavior</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-extension-calls-on-inline-functional-parameters" data-toc="prohibit-extension-calls-on-inline-functional-parameters">Prohibit extension calls on inline functional parameters</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_317"><p id="-b1jr1k_318"><span class="control" id="-b1jr1k_324">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-52502" id="-b1jr1k_325" data-external="true" rel="noopener noreferrer" target="_blank">KT-52502</a></p><p id="-b1jr1k_319"><span class="control" id="-b1jr1k_326">Component</span>: Core language</p><p id="-b1jr1k_320"><span class="control" id="-b1jr1k_327">Incompatible change type</span>: source</p><p id="-b1jr1k_321"><span class="control" id="-b1jr1k_328">Short summary</span>: while Kotlin allowed passing an inline functional parameter to another inline function as a receiver, it always resulted in compiler exceptions when compiling such code. Kotlin 1.9 will prohibit this, thus reporting an error instead of crashing the compiler.</p><p id="-b1jr1k_322"><span class="control" id="-b1jr1k_329">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_323"><li class="list__item" id="-b1jr1k_330"><p id="-b1jr1k_332">1.7.20: report a warning (or an error in the progressive mode) for inline extension calls on inline functional parameters</p></li><li class="list__item" id="-b1jr1k_331"><p id="-b1jr1k_333">1.9.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-calls-to-infix-functions-named-suspend-with-an-anonymous-function-argument" data-toc="prohibit-calls-to-infix-functions-named-suspend-with-an-anonymous-function-argument">Prohibit calls to infix functions named suspend with an anonymous function argument</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_334"><p id="-b1jr1k_335"><span class="control" id="-b1jr1k_341">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-49264" id="-b1jr1k_342" data-external="true" rel="noopener noreferrer" target="_blank">KT-49264</a></p><p id="-b1jr1k_336"><span class="control" id="-b1jr1k_343">Component</span>: Core language</p><p id="-b1jr1k_337"><span class="control" id="-b1jr1k_344">Incompatible change type</span>: source</p><p id="-b1jr1k_338"><span class="control" id="-b1jr1k_345">Short summary</span>: Kotlin 1.9 will no longer allow calling infix functions named <code class="code" id="-b1jr1k_346">suspend</code> that have a single argument of a functional type passed as an anonymous function literal.</p><p id="-b1jr1k_339"><span class="control" id="-b1jr1k_347">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_340"><li class="list__item" id="-b1jr1k_348"><p id="-b1jr1k_351">1.7.20: report a warning on suspend infix calls with an anonymous function literal</p></li><li class="list__item" id="-b1jr1k_349"><p id="-b1jr1k_352">1.9.0: raise the warning to an error, <code class="code" id="-b1jr1k_353">-XXLanguage:-ModifierNonBuiltinSuspendFunError</code> can be used to temporarily revert to the pre-1.9 behavior</p></li><li class="list__item" id="-b1jr1k_350"><p id="-b1jr1k_354">TODO: Change how the <code class="code" id="-b1jr1k_355">suspend fun</code> token sequence is interpreted by the parser</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-using-captured-type-parameters-in-inner-classes-against-their-variance" data-toc="prohibit-using-captured-type-parameters-in-inner-classes-against-their-variance">Prohibit using captured type parameters in inner classes against their variance</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_356"><p id="-b1jr1k_357"><span class="control" id="-b1jr1k_363">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-50947" id="-b1jr1k_364" data-external="true" rel="noopener noreferrer" target="_blank">KT-50947</a></p><p id="-b1jr1k_358"><span class="control" id="-b1jr1k_365">Component</span>: Core language</p><p id="-b1jr1k_359"><span class="control" id="-b1jr1k_366">Incompatible change type</span>: source</p><p id="-b1jr1k_360"><span class="control" id="-b1jr1k_367">Short summary</span>: Kotlin 1.9 will prohibit using type parameters of an outer class having <code class="code" id="-b1jr1k_368">in</code> or <code class="code" id="-b1jr1k_369">out</code> variance in an inner class of that class in positions violating that type parameters' declared variance.</p><p id="-b1jr1k_361"><span class="control" id="-b1jr1k_370">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_362"><li class="list__item" id="-b1jr1k_371"><p id="-b1jr1k_373">1.7.0: report a warning (or an error in the progressive mode) when an outer class' type parameter usage position violates the variance rules of that parameter</p></li><li class="list__item" id="-b1jr1k_372"><p id="-b1jr1k_374">1.9.0: raise the warning to an error, <code class="code" id="-b1jr1k_375">-XXLanguage:-ReportTypeVarianceConflictOnQualifierArguments</code> can be used to temporarily revert to the pre-1.9 behavior</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-recursive-call-of-a-function-without-explicit-return-type-in-compound-assignment-operators" data-toc="prohibit-recursive-call-of-a-function-without-explicit-return-type-in-compound-assignment-operators">Prohibit recursive call of a function without explicit return type in compound assignment operators</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_376"><p id="-b1jr1k_377"><span class="control" id="-b1jr1k_383">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-48546" id="-b1jr1k_384" data-external="true" rel="noopener noreferrer" target="_blank">KT-48546</a></p><p id="-b1jr1k_378"><span class="control" id="-b1jr1k_385">Component</span>: Core language</p><p id="-b1jr1k_379"><span class="control" id="-b1jr1k_386">Incompatible change type</span>: source</p><p id="-b1jr1k_380"><span class="control" id="-b1jr1k_387">Short summary</span>: Kotlin 1.9 will prohibit calling a function without explicitly specified return type in an argument of a compound assignment operator inside that function's body, as it currently does in other expressions inside the body of that function.</p><p id="-b1jr1k_381"><span class="control" id="-b1jr1k_388">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_382"><li class="list__item" id="-b1jr1k_389"><p id="-b1jr1k_391">1.7.0: report a warning (or an error in the progressive mode) when a function without explicitly specified return type is called recursively in that function's body in a compound assignment operator argument</p></li><li class="list__item" id="-b1jr1k_390"><p id="-b1jr1k_392">1.9.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-unsound-calls-with-expected-notnull-t-and-given-kotlin-generic-parameter-with-nullable-bound" data-toc="prohibit-unsound-calls-with-expected-notnull-t-and-given-kotlin-generic-parameter-with-nullable-bound">Prohibit unsound calls with expected @NotNull T and given Kotlin generic parameter with nullable bound</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_393"><p id="-b1jr1k_394"><span class="control" id="-b1jr1k_400">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-36770" id="-b1jr1k_401" data-external="true" rel="noopener noreferrer" target="_blank">KT-36770</a></p><p id="-b1jr1k_395"><span class="control" id="-b1jr1k_402">Component</span>: Kotlin/JVM</p><p id="-b1jr1k_396"><span class="control" id="-b1jr1k_403">Incompatible change type</span>: source</p><p id="-b1jr1k_397"><span class="control" id="-b1jr1k_404">Short summary</span>: Kotlin 1.9 will prohibit method calls where a value of a potentially nullable generic type is passed for a <code class="code" id="-b1jr1k_405">@NotNull</code>-annotated parameter of a Java method.</p><p id="-b1jr1k_398"><span class="control" id="-b1jr1k_406">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_399"><li class="list__item" id="-b1jr1k_407"><p id="-b1jr1k_409">1.5.20: report a warning when an unconstrained generic type parameter is passed where a non-nullable type is expected</p></li><li class="list__item" id="-b1jr1k_408"><p id="-b1jr1k_410">1.9.0: report a type mismatch error instead of the warning above, <br><code class="code" id="-b1jr1k_412">-XXLanguage:-ProhibitUsingNullableTypeParameterAgainstNotNullAnnotated</code> can be used to temporarily revert to the pre-1.8 behavior</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-access-to-members-of-a-companion-of-an-enum-class-from-entry-initializers-of-this-enum" data-toc="prohibit-access-to-members-of-a-companion-of-an-enum-class-from-entry-initializers-of-this-enum">Prohibit access to members of a companion of an enum class from entry initializers of this enum</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_413"><p id="-b1jr1k_414"><span class="control" id="-b1jr1k_420">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-49110" id="-b1jr1k_421" data-external="true" rel="noopener noreferrer" target="_blank">KT-49110</a></p><p id="-b1jr1k_415"><span class="control" id="-b1jr1k_422">Component</span>: Core language</p><p id="-b1jr1k_416"><span class="control" id="-b1jr1k_423">Incompatible change type</span>: source</p><p id="-b1jr1k_417"><span class="control" id="-b1jr1k_424">Short summary</span>: Kotlin 1.9 will prohibit all kinds of access to the companion object of an enum from an enum entry initializer.</p><p id="-b1jr1k_418"><span class="control" id="-b1jr1k_425">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_419"><li class="list__item" id="-b1jr1k_426"><p id="-b1jr1k_428">1.6.20: report a warning (or an error in the progressive mode) on such companion member access</p></li><li class="list__item" id="-b1jr1k_427"><p id="-b1jr1k_429">1.9.0: raise the warning to an error, <code class="code" id="-b1jr1k_430">-XXLanguage:-ProhibitAccessToEnumCompanionMembersInEnumConstructorCall</code> can be used to temporarily revert to the pre-1.8 behavior</p></li></ul></aside></section><section class="chapter"><h3 id="deprecate-and-remove-enum-declaringclass-synthetic-property" data-toc="deprecate-and-remove-enum-declaringclass-synthetic-property">Deprecate and remove Enum.declaringClass synthetic property</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_431"><p id="-b1jr1k_432"><span class="control" id="-b1jr1k_438">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-49653" id="-b1jr1k_439" data-external="true" rel="noopener noreferrer" target="_blank">KT-49653</a></p><p id="-b1jr1k_433"><span class="control" id="-b1jr1k_440">Component</span>: Kotlin/JVM</p><p id="-b1jr1k_434"><span class="control" id="-b1jr1k_441">Incompatible change type</span>: source</p><p id="-b1jr1k_435"><span class="control" id="-b1jr1k_442">Short summary</span>: Kotlin allowed using the synthetic property <code class="code" id="-b1jr1k_443">declaringClass</code> on <code class="code" id="-b1jr1k_444">Enum</code> values produced from the method <code class="code" id="-b1jr1k_445">getDeclaringClass()</code> of the underlying Java class <code class="code" id="-b1jr1k_446">java.lang.Enum</code> even though this method is not available for Kotlin <code class="code" id="-b1jr1k_447">Enum</code> type. Kotlin 1.9 will prohibit using this property, proposing to migrate to the extension property <code class="code" id="-b1jr1k_448">declaringJavaClass</code> instead.</p><p id="-b1jr1k_436"><span class="control" id="-b1jr1k_449">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_437"><li class="list__item" id="-b1jr1k_450"><p id="-b1jr1k_453">1.7.0: report a warning (or an error in the progressive mode) on <code class="code" id="-b1jr1k_454">declaringClass</code> property usages, propose the migration to <code class="code" id="-b1jr1k_455">declaringJavaClass</code> extension</p></li><li class="list__item" id="-b1jr1k_451"><p id="-b1jr1k_456">1.9.0: raise the warning to an error, <code class="code" id="-b1jr1k_457">-XXLanguage:-ProhibitEnumDeclaringClass</code> can be used to temporarily revert to the pre-1.9 behavior</p></li><li class="list__item" id="-b1jr1k_452"><p id="-b1jr1k_458">2.0.0: remove <code class="code" id="-b1jr1k_459">declaringClass</code> synthetic property</p></li></ul></aside></section><section class="chapter"><h3 id="deprecate-enable-and-compatibility-modes-of-the-compiler-option-xjvm-default" data-toc="deprecate-enable-and-compatibility-modes-of-the-compiler-option-xjvm-default">Deprecate enable and compatibility modes of the compiler option -Xjvm-default</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_460"><p id="-b1jr1k_461"><span class="control" id="-b1jr1k_467">Issues</span>: <a href="https://youtrack.jetbrains.com/issue/KT-46329" id="-b1jr1k_468" data-external="true" rel="noopener noreferrer" target="_blank">KT-46329</a>, <a href="https://youtrack.jetbrains.com/issue/KT-54746" id="-b1jr1k_469" data-external="true" rel="noopener noreferrer" target="_blank">KT-54746</a></p><p id="-b1jr1k_462"><span class="control" id="-b1jr1k_470">Component</span>: Kotlin/JVM</p><p id="-b1jr1k_463"><span class="control" id="-b1jr1k_471">Incompatible change type</span>: source</p><p id="-b1jr1k_464"><span class="control" id="-b1jr1k_472">Short summary</span>: Kotlin 1.9 prohibits using the <code class="code" id="-b1jr1k_473">enable</code> and <code class="code" id="-b1jr1k_474">compatibility</code> modes of the <code class="code" id="-b1jr1k_475">-Xjvm-default</code> compiler option.</p><p id="-b1jr1k_465"><span class="control" id="-b1jr1k_476">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_466"><li class="list__item" id="-b1jr1k_477"><p id="-b1jr1k_479">1.6.20: introduce a warning on the <code class="code" id="-b1jr1k_480">enable</code> and <code class="code" id="-b1jr1k_481">compatibility</code> modes of the <code class="code" id="-b1jr1k_482">-Xjvm-default</code> compiler option</p></li><li class="list__item" id="-b1jr1k_478"><p id="-b1jr1k_483">1.9.0: raise this warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-implicit-inferring-a-type-variable-into-an-upper-bound-in-the-builder-inference-context" data-toc="prohibit-implicit-inferring-a-type-variable-into-an-upper-bound-in-the-builder-inference-context">Prohibit implicit inferring a type variable into an upper bound in the builder inference context</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_484"><p id="-b1jr1k_485"><span class="control" id="-b1jr1k_491">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-47986" id="-b1jr1k_492" data-external="true" rel="noopener noreferrer" target="_blank">KT-47986</a></p><p id="-b1jr1k_486"><span class="control" id="-b1jr1k_493">Component</span>: Core language</p><p id="-b1jr1k_487"><span class="control" id="-b1jr1k_494">Incompatible change type</span>: source</p><p id="-b1jr1k_488"><span class="control" id="-b1jr1k_495">Short summary</span>: Kotlin 2.0 will prohibit inferring a type variable into the corresponding type parameter's upper bound in the absence of any use-site type information in the scope of builder inference lambda functions, the same way as it does currently in other contexts.</p><p id="-b1jr1k_489"><span class="control" id="-b1jr1k_496">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_490"><li class="list__item" id="-b1jr1k_497"><p id="-b1jr1k_499">1.7.20: report a warning (or an error in the progressive mode) when a type parameter is inferred into declared upper bounds in the absence of use-site type information</p></li><li class="list__item" id="-b1jr1k_498"><p id="-b1jr1k_500">2.0.0: raise the warning to an error</p></li></ul></aside></section></section><section class="chapter"><h2 id="standard-library" data-toc="standard-library">Standard library</h2><section class="chapter"><h3 id="warn-about-potential-overload-resolution-change-when-range-progression-starts-implementing-collection" data-toc="warn-about-potential-overload-resolution-change-when-range-progression-starts-implementing-collection">Warn about potential overload resolution change when Range/Progression starts implementing Collection</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_504"><p id="-b1jr1k_505"><span class="control" id="-b1jr1k_511">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-49276" id="-b1jr1k_512" data-external="true" rel="noopener noreferrer" target="_blank">KT-49276</a></p><p id="-b1jr1k_506"><span class="control" id="-b1jr1k_513">Component</span>: Core language / kotlin-stdlib</p><p id="-b1jr1k_507"><span class="control" id="-b1jr1k_514">Incompatible change type</span>: source</p><p id="-b1jr1k_508"><span class="control" id="-b1jr1k_515">Short summary</span>: it is planned to implement the <code class="code" id="-b1jr1k_516">Collection</code> interface in the standard progressions and concrete ranges inherited from them in Kotlin 1.9. This could make a different overload selected in the overload resolution if there are two overloads of some method, one accepting an element and another accepting a collection. Kotlin will make this situation visible by reporting a warning or an error when such overloaded method is called with a range or progression argument.</p><p id="-b1jr1k_509"><span class="control" id="-b1jr1k_517">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_510"><li class="list__item" id="-b1jr1k_518"><p id="-b1jr1k_521">1.6.20: report a warning when an overloaded method is called with the standard progression or its range inheritor as an argument if implementing the <code class="code" id="-b1jr1k_522">Collection</code> interface by this progression/range leads to another overload being selected in this call in future</p></li><li class="list__item" id="-b1jr1k_519"><p id="-b1jr1k_523">1.8.0: raise this warning to an error</p></li><li class="list__item" id="-b1jr1k_520"><p id="-b1jr1k_524">2.1.0: stop reporting the error, implement <code class="code" id="-b1jr1k_525">Collection</code> interface in progressions thus changing the overload resolution result in the affected cases</p></li></ul></aside></section><section class="chapter"><h3 id="migrate-declarations-from-kotlin-dom-and-kotlin-browser-packages-to-kotlinx" data-toc="migrate-declarations-from-kotlin-dom-and-kotlin-browser-packages-to-kotlinx">Migrate declarations from kotlin.dom and kotlin.browser packages to kotlinx.*</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_526"><p id="-b1jr1k_527"><span class="control" id="-b1jr1k_533">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-39330" id="-b1jr1k_534" data-external="true" rel="noopener noreferrer" target="_blank">KT-39330</a></p><p id="-b1jr1k_528"><span class="control" id="-b1jr1k_535">Component</span>: kotlin-stdlib (JS)</p><p id="-b1jr1k_529"><span class="control" id="-b1jr1k_536">Incompatible change type</span>: source</p><p id="-b1jr1k_530"><span class="control" id="-b1jr1k_537">Short summary</span>: declarations from the <code class="code" id="-b1jr1k_538">kotlin.dom</code> and <code class="code" id="-b1jr1k_539">kotlin.browser</code> packages are moved to the corresponding <code class="code" id="-b1jr1k_540">kotlinx.*</code> packages to prepare for extracting them from stdlib.</p><p id="-b1jr1k_531"><span class="control" id="-b1jr1k_541">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_532"><li class="list__item" id="-b1jr1k_542"><p id="-b1jr1k_547">1.4.0: introduce the replacement API in <code class="code" id="-b1jr1k_548">kotlinx.dom</code> and <code class="code" id="-b1jr1k_549">kotlinx.browser</code> packages</p></li><li class="list__item" id="-b1jr1k_543"><p id="-b1jr1k_550">1.4.0: deprecate the API in <code class="code" id="-b1jr1k_551">kotlin.dom</code> and <code class="code" id="-b1jr1k_552">kotlin.browser</code> packages and propose the new API above as a replacement</p></li><li class="list__item" id="-b1jr1k_544"><p id="-b1jr1k_553">1.6.0: raise the deprecation level to an error</p></li><li class="list__item" id="-b1jr1k_545"><p id="-b1jr1k_554">1.8.20: remove the deprecated functions from stdlib for JS-IR target</p></li><li class="list__item" id="-b1jr1k_546"><p id="-b1jr1k_555">&gt;= 2.0: move the API in kotlinx.* packages to a separate library</p></li></ul></aside></section><section class="chapter"><h3 id="deprecate-some-js-only-api" data-toc="deprecate-some-js-only-api">Deprecate some JS-only API</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_556"><p id="-b1jr1k_557"><span class="control" id="-b1jr1k_563">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-48587" id="-b1jr1k_564" data-external="true" rel="noopener noreferrer" target="_blank">KT-48587</a></p><p id="-b1jr1k_558"><span class="control" id="-b1jr1k_565">Component</span>: kotlin-stdlib (JS)</p><p id="-b1jr1k_559"><span class="control" id="-b1jr1k_566">Incompatible change type</span>: source</p><p id="-b1jr1k_560"><span class="control" id="-b1jr1k_567">Short summary</span>: a number of JS-only functions in stdlib are deprecated for removal. They include: <code class="code" id="-b1jr1k_568">String.concat(String)</code>, <code class="code" id="-b1jr1k_569">String.match(regex: String)</code>, <code class="code" id="-b1jr1k_570">String.matches(regex: String)</code>, and the <code class="code" id="-b1jr1k_571">sort</code> functions on arrays taking a comparison function, for example, <code class="code" id="-b1jr1k_572">Array&lt;out T&gt;.sort(comparison: (a: T, b: T) -&gt; Int)</code>.</p><p id="-b1jr1k_561"><span class="control" id="-b1jr1k_573">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_562"><li class="list__item" id="-b1jr1k_574"><p id="-b1jr1k_577">1.6.0: deprecate the affected functions with a warning</p></li><li class="list__item" id="-b1jr1k_575"><p id="-b1jr1k_578">1.9.0: raise the deprecation level to an error</p></li><li class="list__item" id="-b1jr1k_576"><p id="-b1jr1k_579">&gt;=2.0: remove the deprecated functions from the public API</p></li></ul></aside></section></section><section class="chapter"><h2 id="tools" data-toc="tools">Tools</h2><section class="chapter"><h3 id="remove-enableendorsedlibs-flag-from-gradle-setup" data-toc="remove-enableendorsedlibs-flag-from-gradle-setup">Remove enableEndorsedLibs flag from Gradle setup</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_584"><p id="-b1jr1k_585"><span class="control" id="-b1jr1k_591">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-54098" id="-b1jr1k_592" data-external="true" rel="noopener noreferrer" target="_blank">KT-54098</a></p><p id="-b1jr1k_586"><span class="control" id="-b1jr1k_593">Component</span>: Gradle</p><p id="-b1jr1k_587"><span class="control" id="-b1jr1k_594">Incompatible change type</span>: source</p><p id="-b1jr1k_588"><span class="control" id="-b1jr1k_595">Short summary</span>: the <code class="code" id="-b1jr1k_596">enableEndorsedLibs</code> flag is no longer supported in Gradle setup.</p><p id="-b1jr1k_589"><span class="control" id="-b1jr1k_597">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_590"><li class="list__item" id="-b1jr1k_598"><p id="-b1jr1k_600">&lt; 1.9.0: <code class="code" id="-b1jr1k_601">enableEndorsedLibs</code> flag is supported in Gradle setup</p></li><li class="list__item" id="-b1jr1k_599"><p id="-b1jr1k_602">1.9.0: <code class="code" id="-b1jr1k_603">enableEndorsedLibs</code> flag is <span class="control" id="-b1jr1k_604">not</span> supported in Gradle setup</p></li></ul></aside></section><section class="chapter"><h3 id="remove-gradle-conventions" data-toc="remove-gradle-conventions">Remove Gradle conventions</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_605"><p id="-b1jr1k_606"><span class="control" id="-b1jr1k_612">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-52976" id="-b1jr1k_613" data-external="true" rel="noopener noreferrer" target="_blank">KT-52976</a></p><p id="-b1jr1k_607"><span class="control" id="-b1jr1k_614">Component</span>: Gradle</p><p id="-b1jr1k_608"><span class="control" id="-b1jr1k_615">Incompatible change type</span>: source</p><p id="-b1jr1k_609"><span class="control" id="-b1jr1k_616">Short summary</span>: Gradle conventions were deprecated in Gradle 7.1 and have been removed in Gradle 8.</p><p id="-b1jr1k_610"><span class="control" id="-b1jr1k_617">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_611"><li class="list__item" id="-b1jr1k_618"><p id="-b1jr1k_620">1.7.20: Gradle conventions deprecated</p></li><li class="list__item" id="-b1jr1k_619"><p id="-b1jr1k_621">1.9.0: Gradle conventions removed</p></li></ul></aside></section><section class="chapter"><h3 id="remove-classpath-property-of-kotlincompile-task" data-toc="remove-classpath-property-of-kotlincompile-task">Remove classpath property of KotlinCompile task</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_622"><p id="-b1jr1k_623"><span class="control" id="-b1jr1k_629">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-53748" id="-b1jr1k_630" data-external="true" rel="noopener noreferrer" target="_blank">KT-53748</a></p><p id="-b1jr1k_624"><span class="control" id="-b1jr1k_631">Component</span>: Gradle</p><p id="-b1jr1k_625"><span class="control" id="-b1jr1k_632">Incompatible change type</span>: source</p><p id="-b1jr1k_626"><span class="control" id="-b1jr1k_633">Short summary</span>: the <code class="code" id="-b1jr1k_634">classpath</code> property of the <code class="code" id="-b1jr1k_635">KotlinCompile</code> task is removed.</p><p id="-b1jr1k_627"><span class="control" id="-b1jr1k_636">Deprecation cycle</span>:</p><ul class="list _bullet" id="-b1jr1k_628"><li class="list__item" id="-b1jr1k_637"><p id="-b1jr1k_640">1.7.0: the <code class="code" id="-b1jr1k_641">classpath</code> property is deprecated</p></li><li class="list__item" id="-b1jr1k_638"><p id="-b1jr1k_642">1.8.0: raise the deprecation level to an error</p></li><li class="list__item" id="-b1jr1k_639"><p id="-b1jr1k_643">1.9.0: remove the deprecated functions from the public API</p></li></ul></aside></section><section class="chapter"><h3 id="deprecate-kotlin-internal-single-build-metrics-file-property" data-toc="deprecate-kotlin-internal-single-build-metrics-file-property">Deprecate kotlin.internal.single.build.metrics.file property</h3><aside class="prompt" data-type="tip" data-title="" id="-b1jr1k_644"><p id="-b1jr1k_645"><span class="control" id="-b1jr1k_651">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-53357" id="-b1jr1k_652" data-external="true" rel="noopener noreferrer" target="_blank">KT-53357</a></p><p id="-b1jr1k_646"><span class="control" id="-b1jr1k_653">Component</span>: Gradle</p><p id="-b1jr1k_647"><span class="control" id="-b1jr1k_654">Incompatible change type</span>: source</p><p id="-b1jr1k_648"><span class="control" id="-b1jr1k_655">Short summary</span>: deprecate the <code class="code" id="-b1jr1k_656">kotlin.internal.single.build.metrics.file</code> property used to define a single file for build reports. Use the property <code class="code" id="-b1jr1k_657">kotlin.build.report.single_file</code> instead with <code class="code" id="-b1jr1k_658">kotlin.build.report.output=single_file</code>.</p><p id="-b1jr1k_649"><span class="control" id="-b1jr1k_659">Deprecation cycle:</span></p><ul class="list _bullet" id="-b1jr1k_650"><li class="list__item" id="-b1jr1k_660"><p id="-b1jr1k_662">1.8.0: raise the deprecation level to a warning</p></li><li class="list__item" id="-b1jr1k_661"><p id="-b1jr1k_663">&gt;= 1.9: delete the property</p></li></ul></aside></section></section><div class="last-modified">14 July 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="compatibility-guide-20.html" class="navigation-links__prev">Compatibility guide for Kotlin 2.0</a><a href="compatibility-guide-18.html" class="navigation-links__next">Compatibility guide for Kotlin 1.8</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>