<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-07-15T17:12:02.867480707"><link rel="canonical" href="https://kotlinlang.org/docs/compatibility-guide-13.html" data-react-helmet="true"><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
<title>Compatibility guide for Kotlin 1.3 | Kotlin Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"basic-terms","level":0,"title":"Basic terms","anchor":"#basic-terms"},{"id":"incompatible-changes","level":0,"title":"Incompatible changes","anchor":"#incompatible-changes"},{"id":"evaluation-order-of-constructor-arguments-regarding-clinit-call","level":1,"title":"Evaluation order of constructor arguments regarding \u003cclinit\u003e call","anchor":"#evaluation-order-of-constructor-arguments-regarding-clinit-call"},{"id":"missing-getter-targeted-annotations-on-annotation-constructor-parameters","level":1,"title":"Missing getter-targeted annotations on annotation constructor parameters","anchor":"#missing-getter-targeted-annotations-on-annotation-constructor-parameters"},{"id":"missing-errors-in-class-constructor-s-get-annotations","level":1,"title":"Missing errors in class constructor\u0027s @get: annotations","anchor":"#missing-errors-in-class-constructor-s-get-annotations"},{"id":"nullability-assertions-on-access-to-java-types-annotated-with-notnull","level":1,"title":"Nullability assertions on access to Java types annotated with @NotNull","anchor":"#nullability-assertions-on-access-to-java-types-annotated-with-notnull"},{"id":"unsound-smartcasts-on-enum-members","level":1,"title":"Unsound smartcasts on enum members","anchor":"#unsound-smartcasts-on-enum-members"},{"id":"val-backing-field-reassignment-in-getter","level":1,"title":"val backing field reassignment in getter","anchor":"#val-backing-field-reassignment-in-getter"},{"id":"array-capturing-before-the-for-loop-where-it-is-iterated","level":1,"title":"Array capturing before the for-loop where it is iterated","anchor":"#array-capturing-before-the-for-loop-where-it-is-iterated"},{"id":"nested-classifiers-in-enum-entries","level":1,"title":"Nested classifiers in enum entries","anchor":"#nested-classifiers-in-enum-entries"},{"id":"data-class-overriding-copy","level":1,"title":"Data class overriding copy","anchor":"#data-class-overriding-copy"},{"id":"inner-classes-inheriting-throwable-that-capture-generic-parameters-from-the-outer-class","level":1,"title":"Inner classes inheriting Throwable that capture generic parameters from the outer class","anchor":"#inner-classes-inheriting-throwable-that-capture-generic-parameters-from-the-outer-class"},{"id":"visibility-rules-regarding-complex-class-hierarchies-with-companion-objects","level":1,"title":"Visibility rules regarding complex class hierarchies with companion objects","anchor":"#visibility-rules-regarding-complex-class-hierarchies-with-companion-objects"},{"id":"non-constant-vararg-annotation-parameters","level":1,"title":"Non-constant vararg annotation parameters","anchor":"#non-constant-vararg-annotation-parameters"},{"id":"local-annotation-classes","level":1,"title":"Local annotation classes","anchor":"#local-annotation-classes"},{"id":"smartcasts-on-local-delegated-properties","level":1,"title":"Smartcasts on local delegated properties","anchor":"#smartcasts-on-local-delegated-properties"},{"id":"mod-operator-convention","level":1,"title":"mod operator convention","anchor":"#mod-operator-convention"},{"id":"passing-single-element-to-vararg-in-named-form","level":1,"title":"Passing single element to vararg in named form","anchor":"#passing-single-element-to-vararg-in-named-form"},{"id":"retention-of-annotations-with-target-expression","level":1,"title":"Retention of annotations with target EXPRESSION","anchor":"#retention-of-annotations-with-target-expression"},{"id":"annotations-with-target-parameter-shouldn-t-be-applicable-to-parameter-s-type","level":1,"title":"Annotations with target PARAMETER shouldn\u0027t be applicable to parameter\u0027s type","anchor":"#annotations-with-target-parameter-shouldn-t-be-applicable-to-parameter-s-type"},{"id":"array-copyofrange-throws-an-exception-when-indices-are-out-of-bounds-instead-of-enlarging-the-returned-array","level":1,"title":"Array.copyOfRange throws an exception when indices are out of bounds instead of enlarging the returned array","anchor":"#array-copyofrange-throws-an-exception-when-indices-are-out-of-bounds-instead-of-enlarging-the-returned-array"},{"id":"progressions-of-ints-and-longs-with-a-step-of-int-min-value-and-long-min-value-are-outlawed-and-won-t-be-allowed-to-be-instantiated","level":1,"title":"Progressions of ints and longs with a step of Int.MIN_VALUE and Long.MIN_VALUE are outlawed and won\u0027t be allowed to be instantiated","anchor":"#progressions-of-ints-and-longs-with-a-step-of-int-min-value-and-long-min-value-are-outlawed-and-won-t-be-allowed-to-be-instantiated"},{"id":"check-for-index-overflow-in-operations-on-very-long-sequences","level":1,"title":"Check for index overflow in operations on very long sequences","anchor":"#check-for-index-overflow-in-operations-on-very-long-sequences"},{"id":"unify-split-by-an-empty-match-regex-result-across-the-platforms","level":1,"title":"Unify split by an empty match regex result across the platforms","anchor":"#unify-split-by-an-empty-match-regex-result-across-the-platforms"},{"id":"discontinued-deprecated-artifacts-in-the-compiler-distribution","level":1,"title":"Discontinued deprecated artifacts in the compiler distribution","anchor":"#discontinued-deprecated-artifacts-in-the-compiler-distribution"},{"id":"annotations-in-stdlib","level":1,"title":"Annotations in stdlib","anchor":"#annotations-in-stdlib"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="https://kotlinlang.org/assets/images/favicon.svg?v2"><link rel="icon" type="image/x-icon" sizes="32x32" href="https://kotlinlang.org/assets/images/favicon.ico?v2"><link rel="icon" type="image/png" sizes="96x96" href="https://kotlinlang.org/assets/images/apple-touch-icon.png?v2"><link rel="icon" type="image/png" sizes="300x300" href="https://kotlinlang.org/assets/images/apple-touch-icon-72x72.png?v2"><link rel="icon" type="image/png" sizes="500x500" href="https://kotlinlang.org/assets/images/apple-touch-icon-114x114.png?v2"><meta name="image" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><!-- Open Graph --><meta property="og:title" content="Compatibility guide for Kotlin 1.3 | Kotlin"><meta property="og:description" content=""><meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://kotlinlang.org/docs/compatibility-guide-13.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@kotlin"><meta name="twitter:title" content="Compatibility guide for Kotlin 1.3 | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@kotlin"><meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://kotlinlang.org/docs/compatibility-guide-13.html#webpage",
    "url": "https://kotlinlang.org/docs/compatibility-guide-13.html",
    "name": "Compatibility guide for Kotlin 1.3 | Kotlin",
    "description": "",
    "image": "https://kotlinlang.org/assets/images/open-graph/docs.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://kotlinlang.org/docs/#website",
    "url": "https://kotlinlang.org/docs/",
    "name": "Kotlin Help"
}</script><!-- End Schema.org --><style>a[href="test-page.html"] { visibility: hidden; }</style></head><body data-id="compatibility-guide-13" data-main-title="Compatibility guide for Kotlin 1.3" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Other resources///Kotlin compatibility guides" data-edit-url="https://github.com/JetBrains/kotlin-web-site/edit/master/docs/topics/compatibility-guides/compatibility-guide-13.md"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="compatibility-guide-13" id="compatibility-guide-13.md">Compatibility guide for Kotlin 1.3</h1><p id="jm18dp_2"><span class="emphasis" id="jm18dp_6"><a href="kotlin-evolution-principles.html" id="jm18dp_8">Keeping the Language Modern</a></span> and <span class="emphasis" id="jm18dp_7"><a href="kotlin-evolution-principles.html" id="jm18dp_9">Comfortable Updates</a></span> are among the fundamental principles in Kotlin Language Design. The former says that constructs which obstruct language evolution should be removed, and the latter says that this removal should be well-communicated beforehand to make code migration as smooth as possible.</p><p id="jm18dp_3">While most of the language changes were already announced through other channels, like update changelogs or compiler warnings, this document summarizes them all, providing a complete reference for migration from Kotlin 1.2 to Kotlin 1.3.</p><section class="chapter"><h2 id="basic-terms" data-toc="basic-terms">Basic terms</h2><p id="jm18dp_10">In this document we introduce several kinds of compatibility:</p><ul class="list _bullet" id="jm18dp_11"><li class="list__item" id="jm18dp_13"><p id="jm18dp_16"><span class="emphasis" id="jm18dp_17">Source</span>: source-incompatible change stops code that used to compile fine (without errors or warnings) from compiling anymore</p></li><li class="list__item" id="jm18dp_14"><p id="jm18dp_18"><span class="emphasis" id="jm18dp_19">Binary</span>: two binary artifacts are said to be binary-compatible if interchanging them doesn't lead to loading or linkage errors</p></li><li class="list__item" id="jm18dp_15"><p id="jm18dp_20"><span class="emphasis" id="jm18dp_21">Behavioral</span>: a change is said to be behavioral-incompatible if one and the same program demonstrates different behavior before and after applying the change</p></li></ul><p id="jm18dp_12">Remember that those definitions are given only for pure Kotlin. Compatibility of Kotlin code from the other languages perspective (e.g. from Java) is out of the scope of this document.</p></section><section class="chapter"><h2 id="incompatible-changes" data-toc="incompatible-changes">Incompatible changes</h2><section class="chapter"><h3 id="evaluation-order-of-constructor-arguments-regarding-clinit-call" data-toc="evaluation-order-of-constructor-arguments-regarding-clinit-call">Evaluation order of constructor arguments regarding &lt;clinit&gt; call</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_47"><p id="jm18dp_48"><span class="control" id="jm18dp_54">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-19532" id="jm18dp_55" data-external="true" rel="noopener noreferrer" target="_blank">KT-19532</a></p><p id="jm18dp_49"><span class="control" id="jm18dp_56">Component</span>: Kotlin/JVM</p><p id="jm18dp_50"><span class="control" id="jm18dp_57">Incompatible change type</span>: behavioral</p><p id="jm18dp_51"><span class="control" id="jm18dp_58">Short summary</span>: evaluation order with respect to class initialization is changed in 1.3</p><p id="jm18dp_52"><span class="control" id="jm18dp_59">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_53"><li class="list__item" id="jm18dp_60"><p id="jm18dp_62">&lt;1.3: old behavior (see details in the Issue)</p></li><li class="list__item" id="jm18dp_61"><p id="jm18dp_63">&gt;= 1.3: behavior changed, <code class="code" id="jm18dp_64">-Xnormalize-constructor-calls=disable</code> can be used to temporarily revert to pre-1.3 behavior. Support for this flag is going to be removed in the next major release.</p></li></ul></aside></section><section class="chapter"><h3 id="missing-getter-targeted-annotations-on-annotation-constructor-parameters" data-toc="missing-getter-targeted-annotations-on-annotation-constructor-parameters">Missing getter-targeted annotations on annotation constructor parameters</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_65"><p id="jm18dp_66"><span class="control" id="jm18dp_72">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-25287" id="jm18dp_73" data-external="true" rel="noopener noreferrer" target="_blank">KT-25287</a></p><p id="jm18dp_67"><span class="control" id="jm18dp_74">Component</span>: Kotlin/JVM</p><p id="jm18dp_68"><span class="control" id="jm18dp_75">Incompatible change type</span>: behavioral</p><p id="jm18dp_69"><span class="control" id="jm18dp_76">Short summary</span>: getter-target annotations on annotations constructor parameters will be properly written to classfiles in 1.3</p><p id="jm18dp_70"><span class="control" id="jm18dp_77">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_71"><li class="list__item" id="jm18dp_78"><p id="jm18dp_80">&lt;1.3: getter-target annotations on annotation constructor parameters are not applied</p></li><li class="list__item" id="jm18dp_79"><p id="jm18dp_81">&gt;=1.3: getter-target annotations on annotation constructor parameters are properly applied and written to the generated code</p></li></ul></aside></section><section class="chapter"><h3 id="missing-errors-in-class-constructor-s-get-annotations" data-toc="missing-errors-in-class-constructor-s-get-annotations">Missing errors in class constructor's @get: annotations</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_82"><p id="jm18dp_83"><span class="control" id="jm18dp_89">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-19628" id="jm18dp_90" data-external="true" rel="noopener noreferrer" target="_blank">KT-19628</a></p><p id="jm18dp_84"><span class="control" id="jm18dp_91">Component</span>: Core language</p><p id="jm18dp_85"><span class="control" id="jm18dp_92">Incompatible change type</span>: Source</p><p id="jm18dp_86"><span class="control" id="jm18dp_93">Short summary</span>: errors in getter-target annotations will be reported properly in 1.3</p><p id="jm18dp_87"><span class="control" id="jm18dp_94">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_88"><li class="list__item" id="jm18dp_95"><p id="jm18dp_98">&lt;1.2: compilation errors in getter-target annotations were not reported, causing incorrect code to be compiled fine.</p></li><li class="list__item" id="jm18dp_96"><p id="jm18dp_99">1.2.x: errors reported only by tooling, the compiler still compiles such code without any warnings</p></li><li class="list__item" id="jm18dp_97"><p id="jm18dp_100">&gt;=1.3: errors reported by the compiler too, causing erroneous code to be rejected</p></li></ul></aside></section><section class="chapter"><h3 id="nullability-assertions-on-access-to-java-types-annotated-with-notnull" data-toc="nullability-assertions-on-access-to-java-types-annotated-with-notnull">Nullability assertions on access to Java types annotated with @NotNull</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_101"><p id="jm18dp_102"><span class="control" id="jm18dp_108">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-20830" id="jm18dp_109" data-external="true" rel="noopener noreferrer" target="_blank">KT-20830</a></p><p id="jm18dp_103"><span class="control" id="jm18dp_110">Component</span>: Kotlin/JVM</p><p id="jm18dp_104"><span class="control" id="jm18dp_111">Incompatible change type</span>: Behavioral</p><p id="jm18dp_105"><span class="control" id="jm18dp_112">Short summary</span>: nullability assertions for Java-types annotated with not-null annotations will be generated more aggressively, causing code which passes <code class="code" id="jm18dp_113">null</code> here to fail faster.</p><p id="jm18dp_106"><span class="control" id="jm18dp_114">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_107"><li class="list__item" id="jm18dp_115"><p id="jm18dp_117">&lt;1.3: the compiler could miss such assertions when type inference was involved, allowing potential <code class="code" id="jm18dp_118">null</code> propagation during compilation against binaries (see Issue for details).</p></li><li class="list__item" id="jm18dp_116"><p id="jm18dp_119">&gt;=1.3: the compiler generates missed assertions. This can cause code which was (erroneously) passing <code class="code" id="jm18dp_120">null</code>s here fail faster. <br><code class="code" id="jm18dp_122">-XXLanguage:-StrictJavaNullabilityAssertions</code> can be used to temporarily return to the pre-1.3 behavior. Support for this flag will be removed in the next major release.</p></li></ul></aside></section><section class="chapter"><h3 id="unsound-smartcasts-on-enum-members" data-toc="unsound-smartcasts-on-enum-members">Unsound smartcasts on enum members</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_123"><p id="jm18dp_124"><span class="control" id="jm18dp_130">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-20772" id="jm18dp_131" data-external="true" rel="noopener noreferrer" target="_blank">KT-20772</a></p><p id="jm18dp_125"><span class="control" id="jm18dp_132">Component</span>: Core language</p><p id="jm18dp_126"><span class="control" id="jm18dp_133">Incompatible change type</span>: Source</p><p id="jm18dp_127"><span class="control" id="jm18dp_134">Short summary</span>: a smartcast on a member of one enum entry will be correctly applied to only this enum entry</p><p id="jm18dp_128"><span class="control" id="jm18dp_135">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_129"><li class="list__item" id="jm18dp_136"><p id="jm18dp_138">&lt;1.3: a smartcast on a member of one enum entry could lead to an unsound smartcast on the same member of other enum entries.</p></li><li class="list__item" id="jm18dp_137"><p id="jm18dp_139">&gt;=1.3: smartcast will be properly applied only to the member of one enum entry. <br><code class="code" id="jm18dp_141">-XXLanguage:-SoundSmartcastForEnumEntries</code> will temporarily return old behavior. Support for this flag will be removed in the next major release.</p></li></ul></aside></section><section class="chapter"><h3 id="val-backing-field-reassignment-in-getter" data-toc="val-backing-field-reassignment-in-getter">val backing field reassignment in getter</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_142"><p id="jm18dp_143"><span class="control" id="jm18dp_149">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-16681" id="jm18dp_150" data-external="true" rel="noopener noreferrer" target="_blank">KT-16681</a></p><p id="jm18dp_144"><span class="control" id="jm18dp_151">Components</span>: Core language</p><p id="jm18dp_145"><span class="control" id="jm18dp_152">Incompatible change type</span>: Source</p><p id="jm18dp_146"><span class="control" id="jm18dp_153">Short summary</span>: reassignment of the backing field of <code class="code" id="jm18dp_154">val</code>-property in its getter is now prohibited</p><p id="jm18dp_147"><span class="control" id="jm18dp_155">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_148"><li class="list__item" id="jm18dp_156"><p id="jm18dp_159">&lt;1.2: Kotlin compiler allowed to modify backing field of <code class="code" id="jm18dp_160">val</code> in its getter. Not only it violates Kotlin semantic, but also generates ill-behaved JVM bytecode which reassigns <code class="code" id="jm18dp_161">final</code> field.</p></li><li class="list__item" id="jm18dp_157"><p id="jm18dp_162">1.2.X: deprecation warning is reported on code which reassigns backing field of <code class="code" id="jm18dp_163">val</code></p></li><li class="list__item" id="jm18dp_158"><p id="jm18dp_164">&gt;=1.3: deprecation warnings are elevated to errors</p></li></ul></aside></section><section class="chapter"><h3 id="array-capturing-before-the-for-loop-where-it-is-iterated" data-toc="array-capturing-before-the-for-loop-where-it-is-iterated">Array capturing before the for-loop where it is iterated</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_165"><p id="jm18dp_166"><span class="control" id="jm18dp_172">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-21354" id="jm18dp_173" data-external="true" rel="noopener noreferrer" target="_blank">KT-21354</a></p><p id="jm18dp_167"><span class="control" id="jm18dp_174">Component</span>: Kotlin/JVM</p><p id="jm18dp_168"><span class="control" id="jm18dp_175">Incompatible change type</span>: Source</p><p id="jm18dp_169"><span class="control" id="jm18dp_176">Short summary</span>: if an expression in for-loop range is a local variable updated in a loop body, this change affects loop execution. This is inconsistent with iterating over other containers, such as ranges, character sequences, and collections.</p><p id="jm18dp_170"><span class="control" id="jm18dp_177">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_171"><li class="list__item" id="jm18dp_178"><p id="jm18dp_181">&lt;1.2: described code patterns are compiled fine, but updates to local variable affect loop execution</p></li><li class="list__item" id="jm18dp_179"><p id="jm18dp_182">1.2.X: deprecation warning reported if a range expression in a for-loop is an array-typed local variable which is assigned in a loop body</p></li><li class="list__item" id="jm18dp_180"><p id="jm18dp_183">1.3: change behavior in such cases to be consistent with other containers</p></li></ul></aside></section><section class="chapter"><h3 id="nested-classifiers-in-enum-entries" data-toc="nested-classifiers-in-enum-entries">Nested classifiers in enum entries</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_184"><p id="jm18dp_185"><span class="control" id="jm18dp_191">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-16310" id="jm18dp_192" data-external="true" rel="noopener noreferrer" target="_blank">KT-16310</a></p><p id="jm18dp_186"><span class="control" id="jm18dp_193">Component</span>: Core language</p><p id="jm18dp_187"><span class="control" id="jm18dp_194">Incompatible change type</span>: Source</p><p id="jm18dp_188"><span class="control" id="jm18dp_195">Short summary</span>: since Kotlin 1.3, nested classifiers (classes, object, interfaces, annotation classes, enum classes) in enum entries are prohibited</p><p id="jm18dp_189"><span class="control" id="jm18dp_196">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_190"><li class="list__item" id="jm18dp_197"><p id="jm18dp_200">&lt;1.2: nested classifiers in enum entries are compiled fine, but may fail with exception at runtime</p></li><li class="list__item" id="jm18dp_198"><p id="jm18dp_201">1.2.X: deprecation warnings reported on the nested classifiers</p></li><li class="list__item" id="jm18dp_199"><p id="jm18dp_202">&gt;=1.3: deprecation warnings elevated to errors</p></li></ul></aside></section><section class="chapter"><h3 id="data-class-overriding-copy" data-toc="data-class-overriding-copy">Data class overriding copy</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_203"><p id="jm18dp_204"><span class="control" id="jm18dp_210">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-19618" id="jm18dp_211" data-external="true" rel="noopener noreferrer" target="_blank">KT-19618</a></p><p id="jm18dp_205"><span class="control" id="jm18dp_212">Components</span>: Core language</p><p id="jm18dp_206"><span class="control" id="jm18dp_213">Incompatible change type</span>: Source</p><p id="jm18dp_207"><span class="control" id="jm18dp_214">Short summary</span>: since Kotlin 1.3, data classes are prohibited to override <code class="code" id="jm18dp_215">copy()</code></p><p id="jm18dp_208"><span class="control" id="jm18dp_216">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_209"><li class="list__item" id="jm18dp_217"><p id="jm18dp_220">&lt;1.2: data classes overriding <code class="code" id="jm18dp_221">copy()</code> are compiled fine but may fail at runtime/expose strange behavior</p></li><li class="list__item" id="jm18dp_218"><p id="jm18dp_222">1.2.X: deprecation warnings reported on data classes overriding <code class="code" id="jm18dp_223">copy()</code></p></li><li class="list__item" id="jm18dp_219"><p id="jm18dp_224">&gt;=1.3: deprecation warnings elevated to errors</p></li></ul></aside></section><section class="chapter"><h3 id="inner-classes-inheriting-throwable-that-capture-generic-parameters-from-the-outer-class" data-toc="inner-classes-inheriting-throwable-that-capture-generic-parameters-from-the-outer-class">Inner classes inheriting Throwable that capture generic parameters from the outer class</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_225"><p id="jm18dp_226"><span class="control" id="jm18dp_232">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-17981" id="jm18dp_233" data-external="true" rel="noopener noreferrer" target="_blank">KT-17981</a></p><p id="jm18dp_227"><span class="control" id="jm18dp_234">Component</span>: Core language</p><p id="jm18dp_228"><span class="control" id="jm18dp_235">Incompatible change type</span>: Source</p><p id="jm18dp_229"><span class="control" id="jm18dp_236">Short summary</span>: since Kotlin 1.3, inner classes are not allowed to inherit <code class="code" id="jm18dp_237">Throwable</code></p><p id="jm18dp_230"><span class="control" id="jm18dp_238">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_231"><li class="list__item" id="jm18dp_239"><p id="jm18dp_242">&lt;1.2: inner classes inheriting <code class="code" id="jm18dp_243">Throwable</code> are compiled fine. If such inner classes happen to capture generic parameters, it could lead to strange code patterns which fail at runtime.</p></li><li class="list__item" id="jm18dp_240"><p id="jm18dp_244">1.2.X: deprecation warnings reported on inner classes inheriting <code class="code" id="jm18dp_245">Throwable</code></p></li><li class="list__item" id="jm18dp_241"><p id="jm18dp_246">&gt;=1.3: deprecation warnings elevated to errors</p></li></ul></aside></section><section class="chapter"><h3 id="visibility-rules-regarding-complex-class-hierarchies-with-companion-objects" data-toc="visibility-rules-regarding-complex-class-hierarchies-with-companion-objects">Visibility rules regarding complex class hierarchies with companion objects</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_247"><p id="jm18dp_248"><span class="control" id="jm18dp_254">Issues</span>: <a href="https://youtrack.jetbrains.com/issue/KT-21515" id="jm18dp_255" data-external="true" rel="noopener noreferrer" target="_blank">KT-21515</a>, <a href="https://youtrack.jetbrains.com/issue/KT-25333" id="jm18dp_256" data-external="true" rel="noopener noreferrer" target="_blank">KT-25333</a></p><p id="jm18dp_249"><span class="control" id="jm18dp_257">Component</span>: Core language</p><p id="jm18dp_250"><span class="control" id="jm18dp_258">Incompatible change type</span>: Source</p><p id="jm18dp_251"><span class="control" id="jm18dp_259">Short summary</span>: since Kotlin 1.3, rules of visibility by short names are stricter for complex class hierarchies involving companion objects and nested classifiers.</p><p id="jm18dp_252"><span class="control" id="jm18dp_260">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_253"><li class="list__item" id="jm18dp_261"><p id="jm18dp_264">&lt;1.2: old visibility rules (see Issue for details)</p></li><li class="list__item" id="jm18dp_262"><p id="jm18dp_265">1.2.X: deprecation warnings reported on short names which are not going to be accessible anymore. Tooling suggests automated migration by adding full name.</p></li><li class="list__item" id="jm18dp_263"><p id="jm18dp_266">&gt;=1.3: deprecation warnings elevated to errors. Offending code should add full qualifiers or explicit imports</p></li></ul></aside></section><section class="chapter"><h3 id="non-constant-vararg-annotation-parameters" data-toc="non-constant-vararg-annotation-parameters">Non-constant vararg annotation parameters</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_267"><p id="jm18dp_268"><span class="control" id="jm18dp_274">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-23153" id="jm18dp_275" data-external="true" rel="noopener noreferrer" target="_blank">KT-23153</a></p><p id="jm18dp_269"><span class="control" id="jm18dp_276">Component</span>: Core language</p><p id="jm18dp_270"><span class="control" id="jm18dp_277">Incompatible change type</span>: Source</p><p id="jm18dp_271"><span class="control" id="jm18dp_278">Short summary</span>: since Kotlin 1.3, setting non-constant values as vararg annotation parameters is prohibited</p><p id="jm18dp_272"><span class="control" id="jm18dp_279">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_273"><li class="list__item" id="jm18dp_280"><p id="jm18dp_283">&lt;1.2: the compiler allows to pass non-constant value for vararg annotation parameter, but actually drops that value during bytecode generation, leading to non-obvious behavior</p></li><li class="list__item" id="jm18dp_281"><p id="jm18dp_284">1.2.X: deprecation warnings reported on such code patterns</p></li><li class="list__item" id="jm18dp_282"><p id="jm18dp_285">&gt;=1.3: deprecation warnings elevated to errors</p></li></ul></aside></section><section class="chapter"><h3 id="local-annotation-classes" data-toc="local-annotation-classes">Local annotation classes</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_286"><p id="jm18dp_287"><span class="control" id="jm18dp_293">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-23277" id="jm18dp_294" data-external="true" rel="noopener noreferrer" target="_blank">KT-23277</a></p><p id="jm18dp_288"><span class="control" id="jm18dp_295">Component</span>: Core language</p><p id="jm18dp_289"><span class="control" id="jm18dp_296">Incompatible change type</span>: Source</p><p id="jm18dp_290"><span class="control" id="jm18dp_297">Short summary</span>: since Kotlin 1.3 local annotation classes are not supported</p><p id="jm18dp_291"><span class="control" id="jm18dp_298">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_292"><li class="list__item" id="jm18dp_299"><p id="jm18dp_302">&lt;1.2: the compiler compiled local annotation classes fine</p></li><li class="list__item" id="jm18dp_300"><p id="jm18dp_303">1.2.X: deprecation warnings reported on local annotation classes</p></li><li class="list__item" id="jm18dp_301"><p id="jm18dp_304">&gt;=1.3: deprecation warnings elevated to errors</p></li></ul></aside></section><section class="chapter"><h3 id="smartcasts-on-local-delegated-properties" data-toc="smartcasts-on-local-delegated-properties">Smartcasts on local delegated properties</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_305"><p id="jm18dp_306"><span class="control" id="jm18dp_312">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-22517" id="jm18dp_313" data-external="true" rel="noopener noreferrer" target="_blank">KT-22517</a></p><p id="jm18dp_307"><span class="control" id="jm18dp_314">Component</span>: Core language</p><p id="jm18dp_308"><span class="control" id="jm18dp_315">Incompatible change type</span>: Source</p><p id="jm18dp_309"><span class="control" id="jm18dp_316">Short summary</span>: since Kotlin 1.3 smartcasts on local delegated properties are not allowed</p><p id="jm18dp_310"><span class="control" id="jm18dp_317">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_311"><li class="list__item" id="jm18dp_318"><p id="jm18dp_321">&lt;1.2: the compiler allowed to smartcast local delegated property, which could lead to unsound smartcast in case of ill-behaved delegates</p></li><li class="list__item" id="jm18dp_319"><p id="jm18dp_322">1.2.X: smartcasts on local delegated properries are reported as deprecated (the compiler issues warnings)</p></li><li class="list__item" id="jm18dp_320"><p id="jm18dp_323">&gt;=1.3: deprecation warnings elevated to errors</p></li></ul></aside></section><section class="chapter"><h3 id="mod-operator-convention" data-toc="mod-operator-convention">mod operator convention</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_324"><p id="jm18dp_325"><span class="control" id="jm18dp_331">Issues</span>: <a href="https://youtrack.jetbrains.com/issue/KT-24197" id="jm18dp_332" data-external="true" rel="noopener noreferrer" target="_blank">KT-24197</a></p><p id="jm18dp_326"><span class="control" id="jm18dp_333">Component</span>: Core language</p><p id="jm18dp_327"><span class="control" id="jm18dp_334">Incompatible change type</span>: Source</p><p id="jm18dp_328"><span class="control" id="jm18dp_335">Short summary</span>: since Kotlin 1.3 declaration of <code class="code" id="jm18dp_336">mod</code> operator is prohibited, as well as calls which resolve to such declarations</p><p id="jm18dp_329"><span class="control" id="jm18dp_337">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_330"><li class="list__item" id="jm18dp_338"><p id="jm18dp_341">1.1.X, 1.2.X: report warnings on declarations of <code class="code" id="jm18dp_342">operator mod</code>, as well as on calls which resolve to it</p></li><li class="list__item" id="jm18dp_339"><p id="jm18dp_343">1.3.X: elevate warnings to error, but still allow to resolve to <code class="code" id="jm18dp_344">operator mod</code> declarations</p></li><li class="list__item" id="jm18dp_340"><p id="jm18dp_345">1.4.X: do not resolve calls to <code class="code" id="jm18dp_346">operator mod</code> anymore</p></li></ul></aside></section><section class="chapter"><h3 id="passing-single-element-to-vararg-in-named-form" data-toc="passing-single-element-to-vararg-in-named-form">Passing single element to vararg in named form</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_347"><p id="jm18dp_348"><span class="control" id="jm18dp_354">Issues</span>: <a href="https://youtrack.jetbrains.com/issue/KT-20588" id="jm18dp_355" data-external="true" rel="noopener noreferrer" target="_blank">KT-20588</a>, <a href="https://youtrack.jetbrains.com/issue/KT-20589" id="jm18dp_356" data-external="true" rel="noopener noreferrer" target="_blank">KT-20589</a>. See also <a href="https://youtrack.jetbrains.com/issue/KT-20171" id="jm18dp_357" data-external="true" rel="noopener noreferrer" target="_blank">KT-20171</a></p><p id="jm18dp_349"><span class="control" id="jm18dp_358">Component</span>: Core language</p><p id="jm18dp_350"><span class="control" id="jm18dp_359">Incompatible change type</span>: Source</p><p id="jm18dp_351"><span class="control" id="jm18dp_360">Short summary</span>: in Kotlin 1.3, assigning single element to vararg is deprecated and should be replaced with consecutive spread and array construction.</p><p id="jm18dp_352"><span class="control" id="jm18dp_361">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_353"><li class="list__item" id="jm18dp_362"><p id="jm18dp_366">&lt;1.2: assigning one value element to vararg in named form compiles fine and is treated as assigning <span class="emphasis" id="jm18dp_367">single</span> element to array, causing non-obvious behavior when assigning array to vararg</p></li><li class="list__item" id="jm18dp_363"><p id="jm18dp_368">1.2.X: deprecation warnings are reported on such assignments, users are suggested to switch to consecutive spread and array construction.</p></li><li class="list__item" id="jm18dp_364"><p id="jm18dp_369">1.3.X: warnings are elevated to errors</p></li><li class="list__item" id="jm18dp_365"><p id="jm18dp_370">&gt;= 1.4: change semantic of assigning single element to vararg, making assignment of array equivalent to the assignment of a spread of an array</p></li></ul></aside></section><section class="chapter"><h3 id="retention-of-annotations-with-target-expression" data-toc="retention-of-annotations-with-target-expression">Retention of annotations with target EXPRESSION</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_371"><p id="jm18dp_372"><span class="control" id="jm18dp_378">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-13762" id="jm18dp_379" data-external="true" rel="noopener noreferrer" target="_blank">KT-13762</a></p><p id="jm18dp_373"><span class="control" id="jm18dp_380">Component</span>: Core language</p><p id="jm18dp_374"><span class="control" id="jm18dp_381">Incompatible change type</span>: Source</p><p id="jm18dp_375"><span class="control" id="jm18dp_382">Short summary</span>: since Kotlin 1.3, only <code class="code" id="jm18dp_383">SOURCE</code> retention is allowed for annotations with target <code class="code" id="jm18dp_384">EXPRESSION</code></p><p id="jm18dp_376"><span class="control" id="jm18dp_385">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_377"><li class="list__item" id="jm18dp_386"><p id="jm18dp_389">&lt;1.2: annotations with target <code class="code" id="jm18dp_390">EXPRESSION</code> and retention other than <code class="code" id="jm18dp_391">SOURCE</code> are allowed, but silently ignored at use-sites</p></li><li class="list__item" id="jm18dp_387"><p id="jm18dp_392">1.2.X: deprecation warnings are reported on declarations of such annotations</p></li><li class="list__item" id="jm18dp_388"><p id="jm18dp_393">&gt;=1.3: warnings are elevated to errors</p></li></ul></aside></section><section class="chapter"><h3 id="annotations-with-target-parameter-shouldn-t-be-applicable-to-parameter-s-type" data-toc="annotations-with-target-parameter-shouldn-t-be-applicable-to-parameter-s-type">Annotations with target PARAMETER shouldn't be applicable to parameter's type</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_394"><p id="jm18dp_395"><span class="control" id="jm18dp_401">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-9580" id="jm18dp_402" data-external="true" rel="noopener noreferrer" target="_blank">KT-9580</a></p><p id="jm18dp_396"><span class="control" id="jm18dp_403">Component</span>: Core language</p><p id="jm18dp_397"><span class="control" id="jm18dp_404">Incompatible change type</span>: Source</p><p id="jm18dp_398"><span class="control" id="jm18dp_405">Short summary</span>: since Kotlin 1.3, error about wrong annotation target will be properly reported when annotation with target <code class="code" id="jm18dp_406">PARAMETER</code> is applied to parameter's type</p><p id="jm18dp_399"><span class="control" id="jm18dp_407">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_400"><li class="list__item" id="jm18dp_408"><p id="jm18dp_411">&lt;1.2: aforementioned code patterns are compiled fine; annotations are silently ignored and not present in the bytecode</p></li><li class="list__item" id="jm18dp_409"><p id="jm18dp_412">1.2.X: deprecation warnings are reported on such usages</p></li><li class="list__item" id="jm18dp_410"><p id="jm18dp_413">&gt;=1.3: warnings are elevated to errors</p></li></ul></aside></section><section class="chapter"><h3 id="array-copyofrange-throws-an-exception-when-indices-are-out-of-bounds-instead-of-enlarging-the-returned-array" data-toc="array-copyofrange-throws-an-exception-when-indices-are-out-of-bounds-instead-of-enlarging-the-returned-array">Array.copyOfRange throws an exception when indices are out of bounds instead of enlarging the returned array</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_414"><p id="jm18dp_415"><span class="control" id="jm18dp_421">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-19489" id="jm18dp_422" data-external="true" rel="noopener noreferrer" target="_blank">KT-19489</a></p><p id="jm18dp_416"><span class="control" id="jm18dp_423">Component</span>: kotlin-stdlib (JVM)</p><p id="jm18dp_417"><span class="control" id="jm18dp_424">Incompatible change type</span>: Behavioral</p><p id="jm18dp_418"><span class="control" id="jm18dp_425">Short summary</span>: since Kotlin 1.3, ensure that the <code class="code" id="jm18dp_426">toIndex</code> argument of <code class="code" id="jm18dp_427">Array.copyOfRange</code>, which represents the exclusive end of the range being copied, is not greater than the array size and throw <code class="code" id="jm18dp_428">IllegalArgumentException</code> if it is.</p><p id="jm18dp_419"><span class="control" id="jm18dp_429">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_420"><li class="list__item" id="jm18dp_430"><p id="jm18dp_432">&lt;1.3: in case <code class="code" id="jm18dp_433">toIndex</code> in the invocation of <code class="code" id="jm18dp_434">Array.copyOfRange</code> is greater than the array size, the missing elements in range fill be filled with <code class="code" id="jm18dp_435">null</code>s, violating soundness of the Kotlin type system.</p></li><li class="list__item" id="jm18dp_431"><p id="jm18dp_436">&gt;=1.3: check that <code class="code" id="jm18dp_437">toIndex</code> is in the array bounds, and throw exception if it isn't</p></li></ul></aside></section><section class="chapter"><h3 id="progressions-of-ints-and-longs-with-a-step-of-int-min-value-and-long-min-value-are-outlawed-and-won-t-be-allowed-to-be-instantiated" data-toc="progressions-of-ints-and-longs-with-a-step-of-int-min-value-and-long-min-value-are-outlawed-and-won-t-be-allowed-to-be-instantiated">Progressions of ints and longs with a step of Int.MIN_VALUE and Long.MIN_VALUE are outlawed and won't be allowed to be instantiated</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_438"><p id="jm18dp_439"><span class="control" id="jm18dp_445">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-17176" id="jm18dp_446" data-external="true" rel="noopener noreferrer" target="_blank">KT-17176</a></p><p id="jm18dp_440"><span class="control" id="jm18dp_447">Component</span>: kotlin-stdlib (JVM)</p><p id="jm18dp_441"><span class="control" id="jm18dp_448">Incompatible change type</span>: Behavioral</p><p id="jm18dp_442"><span class="control" id="jm18dp_449">Short summary</span>: since Kotlin 1.3, prohibit step value for integer progressions being the minimum negative value of its integer type (<code class="code" id="jm18dp_450">Long</code> or <code class="code" id="jm18dp_451">Int</code>), so that calling <code class="code" id="jm18dp_452">IntProgression.fromClosedRange(0, 1, step = Int.MIN_VALUE)</code> will throw <code class="code" id="jm18dp_453">IllegalArgumentException</code></p><p id="jm18dp_443"><span class="control" id="jm18dp_454">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_444"><li class="list__item" id="jm18dp_455"><p id="jm18dp_457">&lt;1.3: it was possible to create an <code class="code" id="jm18dp_458">IntProgression</code> with <code class="code" id="jm18dp_459">Int.MIN_VALUE</code> step, which yields two values <code class="code" id="jm18dp_460">[0, -2147483648]</code>, which is non-obvious behavior</p></li><li class="list__item" id="jm18dp_456"><p id="jm18dp_461">&gt;=1.3: throw <code class="code" id="jm18dp_462">IllegalArgumentException</code> if the step is the minimum negative value of its integer type</p></li></ul></aside></section><section class="chapter"><h3 id="check-for-index-overflow-in-operations-on-very-long-sequences" data-toc="check-for-index-overflow-in-operations-on-very-long-sequences">Check for index overflow in operations on very long sequences</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_463"><p id="jm18dp_464"><span class="control" id="jm18dp_470">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-16097" id="jm18dp_471" data-external="true" rel="noopener noreferrer" target="_blank">KT-16097</a></p><p id="jm18dp_465"><span class="control" id="jm18dp_472">Component</span>: kotlin-stdlib (JVM)</p><p id="jm18dp_466"><span class="control" id="jm18dp_473">Incompatible change type</span>: Behavioral</p><p id="jm18dp_467"><span class="control" id="jm18dp_474">Short summary</span>: since Kotlin 1.3, make sure <code class="code" id="jm18dp_475">index</code>, <code class="code" id="jm18dp_476">count</code> and similar methods do not overflow for long sequences. See the Issue for the full list of affected methods.</p><p id="jm18dp_468"><span class="control" id="jm18dp_477">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_469"><li class="list__item" id="jm18dp_478"><p id="jm18dp_480">&lt;1.3: calling such methods on very long sequences could produce negative results due to integer overflow</p></li><li class="list__item" id="jm18dp_479"><p id="jm18dp_481">&gt;=1.3: detect overflow in such methods and throw exception immediately</p></li></ul></aside></section><section class="chapter"><h3 id="unify-split-by-an-empty-match-regex-result-across-the-platforms" data-toc="unify-split-by-an-empty-match-regex-result-across-the-platforms">Unify split by an empty match regex result across the platforms</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_482"><p id="jm18dp_483"><span class="control" id="jm18dp_489">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-21049" id="jm18dp_490" data-external="true" rel="noopener noreferrer" target="_blank">KT-21049</a></p><p id="jm18dp_484"><span class="control" id="jm18dp_491">Component</span>: kotlin-stdlib (JVM)</p><p id="jm18dp_485"><span class="control" id="jm18dp_492">Incompatible change type</span>: Behavioral</p><p id="jm18dp_486"><span class="control" id="jm18dp_493">Short summary</span>: since Kotlin 1.3, unify behavior of <code class="code" id="jm18dp_494">split</code> method by empty match regex across all platforms</p><p id="jm18dp_487"><span class="control" id="jm18dp_495">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_488"><li class="list__item" id="jm18dp_496"><p id="jm18dp_498">&lt;1.3: behavior of described calls is different when comparing JS, JRE 6, JRE 7 versus JRE 8+</p></li><li class="list__item" id="jm18dp_497"><p id="jm18dp_499">&gt;=1.3: unify behavior across the platforms</p></li></ul></aside></section><section class="chapter"><h3 id="discontinued-deprecated-artifacts-in-the-compiler-distribution" data-toc="discontinued-deprecated-artifacts-in-the-compiler-distribution">Discontinued deprecated artifacts in the compiler distribution</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_500"><p id="jm18dp_501"><span class="control" id="jm18dp_508">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-23799" id="jm18dp_509" data-external="true" rel="noopener noreferrer" target="_blank">KT-23799</a></p><p id="jm18dp_502"><span class="control" id="jm18dp_510">Component</span>: other</p><p id="jm18dp_503"><span class="control" id="jm18dp_511">Incompatible change type</span>: Binary</p><p id="jm18dp_504"><span class="control" id="jm18dp_512">Short summary</span>: Kotlin 1.3 discontinues the following deprecated binary artifacts:</p><ul class="list _bullet" id="jm18dp_505"><li class="list__item" id="jm18dp_513"><p id="jm18dp_516"><code class="code" id="jm18dp_517">kotlin-runtime</code>: use <code class="code" id="jm18dp_518">kotlin-stdlib</code> instead</p></li><li class="list__item" id="jm18dp_514"><p id="jm18dp_519"><code class="code" id="jm18dp_520">kotlin-stdlib-jre7/8</code>: use <code class="code" id="jm18dp_521">kotlin-stdlib-jdk7/8</code> instead</p></li><li class="list__item" id="jm18dp_515"><p id="jm18dp_522"><code class="code" id="jm18dp_523">kotlin-jslib</code> in the compiler distribution: use <code class="code" id="jm18dp_524">kotlin-stdlib-js</code> instead</p></li></ul><p id="jm18dp_506"><span class="control" id="jm18dp_525">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_507"><li class="list__item" id="jm18dp_526"><p id="jm18dp_528">1.2.X: the artifacts were marked as deprecated, the compiler reported warning on usage of those artifacts</p></li><li class="list__item" id="jm18dp_527"><p id="jm18dp_529">&gt;=1.3: the artifacts are discontinued</p></li></ul></aside></section><section class="chapter"><h3 id="annotations-in-stdlib" data-toc="annotations-in-stdlib">Annotations in stdlib</h3><aside class="prompt" data-type="tip" data-title="" id="jm18dp_530"><p id="jm18dp_531"><span class="control" id="jm18dp_537">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-21784" id="jm18dp_538" data-external="true" rel="noopener noreferrer" target="_blank">KT-21784</a></p><p id="jm18dp_532"><span class="control" id="jm18dp_539">Component</span>: kotlin-stdlib (JVM)</p><p id="jm18dp_533"><span class="control" id="jm18dp_540">Incompatible change type</span>: Binary</p><p id="jm18dp_534"><span class="control" id="jm18dp_541">Short summary</span>: Kotlin 1.3 removes annotations from the package <code class="code" id="jm18dp_542">org.jetbrains.annotations</code> from stdlib and moves them to the separate artifacts shipped with the compiler: <code class="code" id="jm18dp_543">annotations-13.0.jar</code> and <code class="code" id="jm18dp_544">mutability-annotations-compat.jar</code></p><p id="jm18dp_535"><span class="control" id="jm18dp_545">Deprecation cycle</span>:</p><ul class="list _bullet" id="jm18dp_536"><li class="list__item" id="jm18dp_546"><p id="jm18dp_548">&lt;1.3: annotations were shipped with the stdlib artifact</p></li><li class="list__item" id="jm18dp_547"><p id="jm18dp_549">&gt;=1.3: annotations ship in separate artifacts</p></li></ul></aside></section></section><div class="last-modified">15 July 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="compatibility-guide-14.html" class="navigation-links__prev">Compatibility guide for Kotlin 1.4</a><a href="compatibility-modes.html" class="navigation-links__next">Compatibility modes</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>