<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-07-18T18:58:28.025074474"><link rel="canonical" href="https://kotlinlang.org/docs/js-modules.html" data-react-helmet="true"><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
<title>JavaScript modules | Kotlin Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"browser-targets","level":0,"title":"Browser targets","anchor":"#browser-targets"},{"id":"javascript-libraries-and-node-js-files","level":0,"title":"JavaScript libraries and Node.js files","anchor":"#javascript-libraries-and-node-js-files"},{"id":"choose-the-target-module-system","level":1,"title":"Choose the target module system","anchor":"#choose-the-target-module-system"},{"id":"jsmodule-annotation","level":0,"title":"@JsModule annotation","anchor":"#jsmodule-annotation"},{"id":"apply-jsmodule-to-packages","level":1,"title":"Apply @JsModule to packages","anchor":"#apply-jsmodule-to-packages"},{"id":"import-deeper-package-hierarchies","level":1,"title":"Import deeper package hierarchies","anchor":"#import-deeper-package-hierarchies"},{"id":"jsnonmodule-annotation","level":1,"title":"@JsNonModule annotation","anchor":"#jsnonmodule-annotation"},{"id":"module-system-used-by-the-kotlin-standard-library","level":1,"title":"Module system used by the Kotlin Standard Library","anchor":"#module-system-used-by-the-kotlin-standard-library"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="https://kotlinlang.org/assets/images/favicon.svg?v2"><link rel="icon" type="image/x-icon" sizes="32x32" href="https://kotlinlang.org/assets/images/favicon.ico?v2"><link rel="icon" type="image/png" sizes="96x96" href="https://kotlinlang.org/assets/images/apple-touch-icon.png?v2"><link rel="icon" type="image/png" sizes="300x300" href="https://kotlinlang.org/assets/images/apple-touch-icon-72x72.png?v2"><link rel="icon" type="image/png" sizes="500x500" href="https://kotlinlang.org/assets/images/apple-touch-icon-114x114.png?v2"><meta name="image" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><!-- Open Graph --><meta property="og:title" content="JavaScript modules | Kotlin"><meta property="og:description" content=""><meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://kotlinlang.org/docs/js-modules.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@kotlin"><meta name="twitter:title" content="JavaScript modules | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@kotlin"><meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/open-graph/docs.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://kotlinlang.org/docs/js-modules.html#webpage",
    "url": "https://kotlinlang.org/docs/js-modules.html",
    "name": "JavaScript modules | Kotlin",
    "description": "",
    "image": "https://kotlinlang.org/assets/images/open-graph/docs.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://kotlinlang.org/docs/#website",
    "url": "https://kotlinlang.org/docs/",
    "name": "Kotlin Help"
}</script><!-- End Schema.org --><style>a[href="test-page.html"] { visibility: hidden; }</style></head><body data-id="js-modules" data-main-title="JavaScript modules" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Platforms///JavaScript///Kotlin for the JS platform" data-edit-url="https://github.com/JetBrains/kotlin-web-site/edit/master/docs/topics/js/js-modules.md"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="js-modules" id="js-modules.md">JavaScript modules</h1><p id="hx9bo8_2">You can compile your Kotlin projects to JavaScript modules for various popular module systems. We currently support the following configurations for JavaScript modules:</p><ul class="list _bullet" id="hx9bo8_3"><li class="list__item" id="hx9bo8_7"><p id="hx9bo8_11"><a href="https://github.com/umdjs/umd" id="hx9bo8_12" data-external="true" rel="noopener noreferrer" target="_blank">Unified Module Definitions (UMD)</a>, which is compatible with both <span class="emphasis" id="hx9bo8_13">AMD</span> and <span class="emphasis" id="hx9bo8_14">CommonJS</span>. UMD modules are also able to be executed without being imported or when no module system is present. This is the default option for the <code class="code" id="hx9bo8_15">browser</code> and <code class="code" id="hx9bo8_16">nodejs</code> targets.</p></li><li class="list__item" id="hx9bo8_8"><p id="hx9bo8_17"><a href="https://github.com/amdjs/amdjs-api/wiki/AMD" id="hx9bo8_18" data-external="true" rel="noopener noreferrer" target="_blank">Asynchronous Module Definitions (AMD)</a>, which is in particular used by the <a href="https://requirejs.org/" id="hx9bo8_19" data-external="true" rel="noopener noreferrer" target="_blank">RequireJS</a> library.</p></li><li class="list__item" id="hx9bo8_9"><p id="hx9bo8_20"><a href="http://wiki.commonjs.org/wiki/Modules/1.1" id="hx9bo8_21" data-external="true" rel="noopener noreferrer" target="_blank">CommonJS</a>, widely used by Node.js/npm (<code class="code" id="hx9bo8_22">require</code> function and <code class="code" id="hx9bo8_23">module.exports</code> object).</p></li><li class="list__item" id="hx9bo8_10"><p id="hx9bo8_24">Plain. Don't compile for any module system. You can access a module by its name in the global scope.</p></li></ul><section class="chapter"><h2 id="browser-targets" data-toc="browser-targets">Browser targets</h2><p id="hx9bo8_25">If you intend to run your code in a web browser environment and want to use a module system other than UMD, you can specify the desired module type in the <code class="code" id="hx9bo8_28">webpackTask</code> configuration block. For example, to switch to CommonJS, use:</p><div class="code-block" data-lang="groovy">
kotlin {
    js {
        browser {
            webpackTask {
                output.libraryTarget = &quot;commonjs2&quot;
            }
        }
        binaries.executable()
    }
}

</div><p id="hx9bo8_27">Webpack provides two different flavors of CommonJS, <code class="code" id="hx9bo8_29">commonjs</code> and <code class="code" id="hx9bo8_30">commonjs2</code>, which affect the way your declarations are made available. In most cases, you probably want <code class="code" id="hx9bo8_31">commonjs2</code>, which adds the <code class="code" id="hx9bo8_32">module.exports</code> syntax to the generated library. Alternatively, you can also opt for the <code class="code" id="hx9bo8_33">commonjs</code> option, which adheres strictly to the CommonJS specification. To learn more about the difference between <code class="code" id="hx9bo8_34">commonjs</code> and <code class="code" id="hx9bo8_35">commonjs2</code>, see the <a href="https://github.com/webpack/webpack/issues/1114" id="hx9bo8_36" data-external="true" rel="noopener noreferrer" target="_blank">Webpack repository</a>.</p></section><section class="chapter"><h2 id="javascript-libraries-and-node-js-files" data-toc="javascript-libraries-and-node-js-files">JavaScript libraries and Node.js files</h2><p id="hx9bo8_37">If you are creating a library for use in JavaScript or Node.js environments, and want to use a different module system, the instructions are slightly different.</p><section class="chapter"><h3 id="choose-the-target-module-system" data-toc="choose-the-target-module-system">Choose the target module system</h3><p id="hx9bo8_39">To select the target module system, set the <code class="code" id="hx9bo8_45">moduleKind</code> compiler option in the Gradle build script:</p><div class="tabs" id="hx9bo8_40" data-group="build-script" data-anchors="[hx9bo8_46,hx9bo8_47]"><div class="tabs__content" data-gtm="tab" id="hx9bo8_46" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
tasks.withType&lt;org.jetbrains.kotlin.gradle.targets.js.ir.KotlinJsIrLink&gt; {
    compilerOptions.moduleKind.set(org.jetbrains.kotlin.gradle.dsl.JsModuleKind.MODULE_COMMONJS)
}
</div></div><div class="tabs__content" data-gtm="tab" id="hx9bo8_47" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
compileKotlinJs.compilerOptions.moduleKind = org.jetbrains.kotlin.gradle.dsl.JsModuleKind.MODULE_COMMONJS
</div></div></div><p id="hx9bo8_41">The available values are: <code class="code" id="hx9bo8_50">umd</code> (default), <code class="code" id="hx9bo8_51">commonjs</code>, <code class="code" id="hx9bo8_52">amd</code>, <code class="code" id="hx9bo8_53">plain</code>.</p><aside class="prompt" data-type="note" data-title="" id="hx9bo8_42"><p id="hx9bo8_54">This is different from adjusting <code class="code" id="hx9bo8_55">webpackTask.output.libraryTarget</code>. The library target changes the output <span class="emphasis" id="hx9bo8_56">generated by webpack</span> (after your code has already been compiled). <code class="code" id="hx9bo8_57">compilerOptions.moduleKind</code> changes the output generated <span class="emphasis" id="hx9bo8_58">by the Kotlin compiler</span>.</p></aside><p id="hx9bo8_43">In the Kotlin Gradle DSL, there is also a shortcut for setting the CommonJS module kind:</p><div class="code-block" data-lang="kotlin">
kotlin {
    js {
        useCommonJs()
        // ...
    }
}
</div></section></section><section class="chapter"><h2 id="jsmodule-annotation" data-toc="jsmodule-annotation">@JsModule annotation</h2><p id="hx9bo8_59">To tell Kotlin that an <code class="code" id="hx9bo8_67">external</code> class, package, function or property is a JavaScript module, you can use <code class="code" id="hx9bo8_68">@JsModule</code> annotation. Consider you have the following CommonJS module called &quot;hello&quot;:</p><div class="code-block" data-lang="javascript">
module.exports.sayHello = function (name) { alert(&quot;Hello, &quot; + name); }
</div><p id="hx9bo8_61">You should declare it like this in Kotlin:</p><div class="code-block" data-lang="kotlin">
@JsModule(&quot;hello&quot;)
external fun sayHello(name: String)
</div><section class="chapter"><h3 id="apply-jsmodule-to-packages" data-toc="apply-jsmodule-to-packages">Apply @JsModule to packages</h3><p id="hx9bo8_69">Some JavaScript libraries export packages (namespaces) instead of functions and classes. In terms of JavaScript, it's an <span class="emphasis" id="hx9bo8_75">object</span> that has <span class="emphasis" id="hx9bo8_76">members</span> that are classes, functions and properties. Importing these packages as Kotlin objects often looks unnatural. The compiler can map imported JavaScript packages to Kotlin packages, using the following notation:</p><div class="code-block" data-lang="kotlin">
@file:JsModule(&quot;extModule&quot;)

package ext.jspackage.name

external fun foo()

external class C
</div><p id="hx9bo8_71">Where the corresponding JavaScript module is declared like this:</p><div class="code-block" data-lang="javascript">
module.exports = {
  foo: { /* some code here */ },
  C: { /* some code here */ }
}
</div><p id="hx9bo8_73">Files marked with <code class="code" id="hx9bo8_77">@file:JsModule</code> annotation can't declare non-external members. The example below produces a compile-time error:</p><div class="code-block" data-lang="kotlin">
@file:JsModule(&quot;extModule&quot;)

package ext.jspackage.name

external fun foo()

fun bar() = &quot;!&quot; + foo() + &quot;!&quot; // error here
</div></section><section class="chapter"><h3 id="import-deeper-package-hierarchies" data-toc="import-deeper-package-hierarchies">Import deeper package hierarchies</h3><p id="hx9bo8_78">In the previous example the JavaScript module exports a single package. However, some JavaScript libraries export multiple packages from within a module. This case is also supported by Kotlin, though you have to declare a new <code class="code" id="hx9bo8_85">.kt</code> file for each package you import.</p><p id="hx9bo8_79">For example, let's make the example a bit more complicated:</p><div class="code-block" data-lang="javascript">
module.exports = {
  mylib: {
    pkg1: {
      foo: function () { /* some code here */ },
      bar: function () { /* some code here */ }
    },
    pkg2: {
      baz: function () { /* some code here */ }
    }
  }
}
</div><p id="hx9bo8_81">To import this module in Kotlin, you have to write two Kotlin source files:</p><div class="code-block" data-lang="kotlin">
@file:JsModule(&quot;extModule&quot;)
@file:JsQualifier(&quot;mylib.pkg1&quot;)

package extlib.pkg1

external fun foo()

external fun bar()
</div><p id="hx9bo8_83">and</p><div class="code-block" data-lang="kotlin">
@file:JsModule(&quot;extModule&quot;)
@file:JsQualifier(&quot;mylib.pkg2&quot;)

package extlib.pkg2

external fun baz()
</div></section><section class="chapter"><h3 id="jsnonmodule-annotation" data-toc="jsnonmodule-annotation">@JsNonModule annotation</h3><p id="hx9bo8_86">When a declaration is marked as <code class="code" id="hx9bo8_90">@JsModule</code>, you can't use it from Kotlin code when you don't compile it to a JavaScript module. Usually, developers distribute their libraries both as JavaScript modules and downloadable <code class="code" id="hx9bo8_91">.js</code> files that you can copy to your project's static resources and include via a <code class="code" id="hx9bo8_92">&lt;script&gt;</code> tag. To tell Kotlin that it's okay to use a <code class="code" id="hx9bo8_93">@JsModule</code> declaration from a non-module environment, add the <code class="code" id="hx9bo8_94">@JsNonModule</code> annotation. For example, consider the following JavaScript code:</p><div class="code-block" data-lang="javascript">
function topLevelSayHello (name) { alert(&quot;Hello, &quot; + name); }

if (module &amp;&amp; module.exports) {
  module.exports = topLevelSayHello;
}
</div><p id="hx9bo8_88">You could describe it from Kotlin as follows:</p><div class="code-block" data-lang="kotlin">
@JsModule(&quot;hello&quot;)
@JsNonModule
@JsName(&quot;topLevelSayHello&quot;)
external fun sayHello(name: String)
</div></section><section class="chapter"><h3 id="module-system-used-by-the-kotlin-standard-library" data-toc="module-system-used-by-the-kotlin-standard-library">Module system used by the Kotlin Standard Library</h3><p id="hx9bo8_95">Kotlin is distributed with the Kotlin/JS standard library as a single file, which is itself compiled as an UMD module, so you can use it with any module system described above. For most use cases of Kotlin/JS, it is recommended to use a Gradle dependency on <code class="code" id="hx9bo8_96">kotlin-stdlib-js</code>, which is also available on NPM as the <a href="https://www.npmjs.com/package/kotlin" id="hx9bo8_97" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="hx9bo8_98">kotlin</code></a> package.</p></section></section><div class="last-modified">18 July 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="js-to-kotlin-interop.html" class="navigation-links__prev">Use Kotlin code from JavaScript</a><a href="js-reflection.html" class="navigation-links__next">Kotlin/JS reflection</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>